(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[223],{51203:function(V){V.exports={listContent:"listContent___F9LE6",description:"description___S7dDJ",extra:"extra___GRe7Q"}},21813:function(V){V.exports={standardList:"standardList___15dvZ",headerInfo:"headerInfo___2UjMI",listContent:"listContent___3P9oR",listContentItem:"listContentItem___2XB2X",extraContentSearch:"extraContentSearch___ye7w6",listCard:"listCard___32_Cq",standardListForm:"standardListForm___AY1Cw",formResult:"formResult___2YPn6",listItemMetaTitle:"listItemMetaTitle___2ooQk",listItemExtra:"listItemExtra___FX3UR",selfTrigger:"selfTrigger___3-287",activitiesList:"activitiesList___1K_NH",username:"username___2Spc0",event:"event___1RC9Q",pageHeaderContent:"pageHeaderContent___1h5Sz",avatar:"avatar___1RUNU",content:"content___1g9gn",contentTitle:"contentTitle___nCmUH",extraContent:"extraContent___Ikiwk",statItem:"statItem___18iyT",members:"members___1kUEm",member:"member___1lEil",projectList:"projectList___3dm_2",cardTitle:"cardTitle___3p4ce",projectGrid:"projectGrid___1p_7a",projectItemContent:"projectItemContent___2gIkI",datetime:"datetime___2lR95",activeCard:"activeCard___1qRni",headerList:"headerList___1Z35I",stepDescription:"stepDescription___39kzL"}},20210:function(V,re,i){"use strict";i.r(re),i.d(re,{Current1Cert:function(){return C},default:function(){return p}});var Te=i(58024),he=i(39144),ne=i(54421),K=i(38272),ae=i(57663),ie=i(71577),Le=i(95300),ce=i(7277),Ze=i(98858),z=i(4914),Re=i(71748),M=i(33860),O=i(8870),Q=i(2824),D=i(67294),oe=i(64335),ve=i(75362),de=i(49101),ge=i(97363),Se=i(71194),ye=i(57016),Ae=i(43185),Ce=i(94412),Ee=i(57106),me=i(99683),Oe=i(9715),G=i(82482),N=i(47673),pe=i(4107),xe=i(30381),be=i.n(xe),a=i(21813),e=i.n(a),r=i(84391),n=i(98005),o=i.n(n),t=i(85893),m=pe.Z.TextArea,d={labelCol:{span:7},wrapperCol:{span:13}},s=function(c){var y=G.Z.useForm(),P=(0,Q.Z)(y,1),U=P[0],A=c.done,F=c.visible,B=c.current,w=c.onDone,$=c.onCancel,se=c.onSubmit;(0,D.useEffect)(function(){U&&!F&&U.resetFields()},[c.visible]),(0,D.useEffect)(function(){B&&U.setFieldsValue((0,O.Z)((0,O.Z)({},B),{},{createdAt:B.createdAt?be()(B.createdAt):null}))},[c.current]);var k=function(){!U||U.submit()},q=[],le=function(ee){se&&(console.log("2. imagevalues: "+q),ee.imagesupload_id=q,se(ee))},je=A?{footer:null,onCancel:w}:{okText:"Save",onOk:k,onCancel:$},fe=function(){if(A)return(0,t.jsx)(me.ZP,{status:"success",title:"Done",extra:(0,t.jsx)(ie.Z,{type:"primary",onClick:w,children:"Okay"}),className:e().formResult});var ee={name:"imagefile",action:"https://antapi.pythonanywhere.com/calibration/comment/image/",beforeUpload:function(H){return new Promise(function(X){var Y=(H.size/1024/1024).toFixed(1),te;if(Y<1)te=1;else if(Y<2)te=.6;else if(Y<5)te=.4;else return new Promise(function(Ue,ue){ue({msg:"Image not larger than 10m"})});new(o())(H,{quality:te,success:function(ue){X(ue)}})})},headers:{Authorization:"JWT "+localStorage.getItem("access_token")},onChange:function(H){var X=H.file,Y=H.fileList;X.status!=="uploading"&&(console.log(X,Y),console.log(X.response.id),q.push(X.response.id),console.log("2. imagevalues: "+q))}};return(0,t.jsxs)(G.Z,(0,O.Z)((0,O.Z)({},d),{},{form:U,onFinish:le,children:[(0,t.jsx)(G.Z.Item,{label:"Upload",name:"uploadimages",children:(0,t.jsx)(Ce.Z,(0,O.Z)((0,O.Z)({},ee),{},{children:(0,t.jsx)(ie.Z,{icon:(0,t.jsx)(r.Z,{}),children:"Click to Upload"})}))}),(0,t.jsx)(G.Z.Item,{name:"content",label:"Content",rules:[{message:"Minimum 5 characters",min:5}],children:(0,t.jsx)(m,{rows:4,placeholder:"Minimum 5 characters"})})]}))};return(0,t.jsx)(ye.Z,(0,O.Z)((0,O.Z)({title:A?null:"".concat(B?"Edit":"Write"," a commment..."),className:e().standardListForm,width:640,destroyOnClose:!0,visible:F},je),{},{children:fe()}))},l=s,f=i(73935),h=i(94233),b=i(51890),j=i(49111),u=i(19650),I=i(12968),v=i(62462),g=i(51203),J=i.n(g);function T(S){var c=S.jsonImage,y=c.map(function(P){return(0,t.jsx)(v.Z,{width:50,src:P.imagefile})});return y}function L(S){var c=S.jsonImage;return c.length===0?null:c.length!==0?(0,t.jsx)(v.Z.PreviewGroup,{children:(0,t.jsx)(u.Z,{size:"middle",children:(0,t.jsx)(T,{jsonImage:c})})}):(0,t.jsx)("h1",{children:"Error."})}var Z=function(c){var y=c.data,P=y.content,U=y.name,A=y.created,F=y.user,B=y.href,w=y.image;return(0,t.jsxs)("div",{className:J().listContent,children:[(0,t.jsx)("div",{className:J().description,children:P}),(0,t.jsx)(L,{jsonImage:w}),(0,t.jsxs)("div",{className:J().extra,children:[(0,t.jsx)(b.C,{src:F.avatar,size:"small"}),(0,t.jsx)("a",{href:B,children:F.user_name}),(0,t.jsx)("em",{children:A})]})]})},R=Z,C=function(c){var y=(0,D.useRef)(null),P=c.loading,U=c.dispatch,A=c.Current4Cert.Current5Cert,F=(0,D.useState)(!1),B=(0,Q.Z)(F,2),w=B[0],$=B[1],se=(0,D.useState)(!1),k=(0,Q.Z)(se,2),q=k[0],le=k[1],je=(0,D.useState)(void 0),fe=(0,Q.Z)(je,2),_=fe[0],ee=fe[1];(0,D.useEffect)(function(){U({type:"Current4Cert/beforefetch",payload:{}}),U({type:"Current4Cert/fetch",payload:{}})},[1]);var Ie=function(){le(!0),ee(void 0)},H=function(){if(y.current){var E=(0,f.findDOMNode)(y.current);setTimeout(function(){return E.blur()},0)}},X=function(){H(),$(!1),le(!1)},Y=function(){H(),le(!1)},te=function(E){var x=localStorage.getItem("topic_id"),Be=_?_.id:x;H(),$(!0),U({type:"Current4Cert/submit",payload:(0,O.Z)({id:Be},E)})},Ue={showSizeChanger:!1,showQuickJumper:!1,pageSize:5},ue=function(E){var x=E.currentTitle;return(0,t.jsx)("div",{children:x.certificate_id})},De=function(E){var x=E.currentUser2,Be=x&&Object.keys(x).length;if(!Be)return(0,t.jsx)(M.Z,{paragraph:{rows:1},active:!0});var Me=x.user?x.user.user_name:x.user;return console.log(Me),(0,t.jsx)(oe.Z.Consumer,{children:function(Fe){var we=Fe.isMobile;return(0,t.jsxs)(z.Z,{className:e().headerList,size:"small",column:we?1:2,children:[(0,t.jsx)(z.Z.Item,{label:"Author",children:Me}),(0,t.jsx)(z.Z.Item,{label:"Customer",children:x.customer}),(0,t.jsx)(z.Z.Item,{label:"Instrument",children:x.instrument}),(0,t.jsx)(z.Z.Item,{label:"Updated",children:x.updated})]})}})},Pe=function(E){var x=E.currentExtra;return(0,t.jsxs)("div",{className:e().extraContent,children:[(0,t.jsx)("div",{className:e().statItem,children:(0,t.jsx)(ce.Z,{title:"Comment",value:x.post_count})}),(0,t.jsx)("div",{className:e().statItem,children:(0,t.jsx)(ce.Z,{title:"View",value:x.views})})]})};return(0,t.jsxs)("div",{children:[(0,t.jsx)(ve.ZP,{title:(0,t.jsx)(ue,{currentTitle:A}),onBack:function(){return window.history.back()},content:(0,t.jsx)(De,{currentUser2:A}),extraContent:(0,t.jsx)(Pe,{currentExtra:A}),children:(0,t.jsxs)(he.Z,{children:[(0,t.jsxs)(ie.Z,{type:"dashed",style:{width:"100%",marginBottom:8},onClick:Ie,ref:y,children:[(0,t.jsx)(de.Z,{}),"Write a commment..."]}),(0,t.jsx)(K.ZP,{size:"large",loading:P,pagination:Ue,rowKey:"id",itemLayout:"vertical",dataSource:A.comments,renderItem:function(E){return(0,t.jsxs)(K.ZP.Item,{children:[(0,t.jsx)(K.ZP.Item.Meta,{}),(0,t.jsx)(R,{data:E})]},E.id)}})]})}),(0,t.jsx)(l,{done:w,current:_,visible:q,onDone:X,onCancel:Y,onSubmit:te})]})},p=(0,ge.$j)(function(S){var c=S.Current4Cert,y=S.loading;return{Current4Cert:c,loading:y.models.Current4Cert}})(C)},98005:function(V){/*!
 * Compressor.js v1.0.7
 * https://fengyuanchen.github.io/compressorjs
 *
 * Copyright 2018-present Chen Fengyuan
 * Released under the MIT license
 *
 * Date: 2020-11-28T07:13:17.754Z
 */(function(re,i){V.exports=i()})(this,function(){"use strict";function re(a,e){if(!(a instanceof e))throw new TypeError("Cannot call a class as a function")}function i(a,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(a,n.key,n)}}function Te(a,e,r){return e&&i(a.prototype,e),r&&i(a,r),a}function he(a,e,r){return e in a?Object.defineProperty(a,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):a[e]=r,a}function ne(){return ne=Object.assign||function(a){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(a[n]=r[n])}return a},ne.apply(this,arguments)}function K(a,e){var r=Object.keys(a);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(a);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(a,o).enumerable})),r.push.apply(r,n)}return r}function ae(a){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?K(Object(r),!0).forEach(function(n){he(a,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(r)):K(Object(r)).forEach(function(n){Object.defineProperty(a,n,Object.getOwnPropertyDescriptor(r,n))})}return a}function ie(a,e,r){return r={path:e,exports:{},require:function(n,o){return Le(n,o==null?r.path:o)}},a(r,r.exports),r.exports}function Le(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var ce=ie(function(a){typeof window!="undefined"&&function(e){var r=e.HTMLCanvasElement&&e.HTMLCanvasElement.prototype,n=e.Blob&&function(){try{return Boolean(new Blob)}catch(s){return!1}}(),o=n&&e.Uint8Array&&function(){try{return new Blob([new Uint8Array(100)]).size===100}catch(s){return!1}}(),t=e.BlobBuilder||e.WebKitBlobBuilder||e.MozBlobBuilder||e.MSBlobBuilder,m=/^data:((.*?)(;charset=.*?)?)(;base64)?,/,d=(n||t)&&e.atob&&e.ArrayBuffer&&e.Uint8Array&&function(s){var l,f,h,b,j,u,I,v,g;if(l=s.match(m),!l)throw new Error("invalid data URI");for(f=l[2]?l[1]:"text/plain"+(l[3]||";charset=US-ASCII"),h=!!l[4],b=s.slice(l[0].length),h?j=atob(b):j=decodeURIComponent(b),u=new ArrayBuffer(j.length),I=new Uint8Array(u),v=0;v<j.length;v+=1)I[v]=j.charCodeAt(v);return n?new Blob([o?I:u],{type:f}):(g=new t,g.append(u),g.getBlob(f))};e.HTMLCanvasElement&&!r.toBlob&&(r.mozGetAsFile?r.toBlob=function(s,l,f){var h=this;setTimeout(function(){f&&r.toDataURL&&d?s(d(h.toDataURL(l,f))):s(h.mozGetAsFile("blob",l))})}:r.toDataURL&&d&&(r.msToBlob?r.toBlob=function(s,l,f){var h=this;setTimeout(function(){(l&&l!=="image/png"||f)&&r.toDataURL&&d?s(d(h.toDataURL(l,f))):s(h.msToBlob(l))})}:r.toBlob=function(s,l,f){var h=this;setTimeout(function(){s(d(h.toDataURL(l,f)))})})),a.exports?a.exports=d:e.dataURLtoBlob=d}(window)}),Ze=function(e){return typeof Blob=="undefined"?!1:e instanceof Blob||Object.prototype.toString.call(e)==="[object Blob]"},z={strict:!0,checkOrientation:!0,maxWidth:Infinity,maxHeight:Infinity,minWidth:0,minHeight:0,width:void 0,height:void 0,quality:.8,mimeType:"auto",convertSize:5e6,beforeDraw:null,drew:null,success:null,error:null},Re=typeof window!="undefined"&&typeof window.document!="undefined",M=Re?window:{},O=Array.prototype.slice;function Q(a){return Array.from?Array.from(a):O.call(a)}var D=/^image\/.+$/;function oe(a){return D.test(a)}function ve(a){var e=oe(a)?a.substr(6):"";return e==="jpeg"&&(e="jpg"),".".concat(e)}var de=String.fromCharCode;function ge(a,e,r){var n="",o;for(r+=e,o=e;o<r;o+=1)n+=de(a.getUint8(o));return n}var Se=M.btoa;function ye(a,e){for(var r=[],n=8192,o=new Uint8Array(a);o.length>0;)r.push(de.apply(null,Q(o.subarray(0,n)))),o=o.subarray(n);return"data:".concat(e,";base64,").concat(Se(r.join("")))}function Ae(a){var e=new DataView(a),r;try{var n,o,t;if(e.getUint8(0)===255&&e.getUint8(1)===216)for(var m=e.byteLength,d=2;d+1<m;){if(e.getUint8(d)===255&&e.getUint8(d+1)===225){o=d;break}d+=1}if(o){var s=o+4,l=o+10;if(ge(e,s,4)==="Exif"){var f=e.getUint16(l);if(n=f===18761,(n||f===19789)&&e.getUint16(l+2,n)===42){var h=e.getUint32(l+4,n);h>=8&&(t=l+h)}}}if(t){var b=e.getUint16(t,n),j,u;for(u=0;u<b;u+=1)if(j=t+u*12+2,e.getUint16(j,n)===274){j+=8,r=e.getUint16(j,n),e.setUint16(j,1,n);break}}}catch(I){r=1}return r}function Ce(a){var e=0,r=1,n=1;switch(a){case 2:r=-1;break;case 3:e=-180;break;case 4:n=-1;break;case 5:e=90,n=-1;break;case 6:e=90;break;case 7:e=90,r=-1;break;case 8:e=-90;break}return{rotate:e,scaleX:r,scaleY:n}}var Ee=/\.\d*(?:0|9){12}\d*$/;function me(a){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e11;return Ee.test(a)?Math.round(a*e)/e:a}var Oe=M.ArrayBuffer,G=M.FileReader,N=M.URL||M.webkitURL,pe=/\.\w+$/,xe=M.Compressor,be=function(){function a(e,r){re(this,a),this.file=e,this.image=new Image,this.options=ae(ae({},z),r),this.aborted=!1,this.result=null,this.init()}return Te(a,[{key:"init",value:function(){var r=this,n=this.file,o=this.options;if(!Ze(n)){this.fail(new Error("The first argument must be a File or Blob object."));return}var t=n.type;if(!oe(t)){this.fail(new Error("The first argument must be an image File or Blob object."));return}if(!N||!G){this.fail(new Error("The current browser does not support image compression."));return}if(Oe||(o.checkOrientation=!1),N&&!o.checkOrientation)this.load({url:N.createObjectURL(n)});else{var m=new G,d=o.checkOrientation&&t==="image/jpeg";this.reader=m,m.onload=function(s){var l=s.target,f=l.result,h={};if(d){var b=Ae(f);b>1||!N?(h.url=ye(f,t),b>1&&ne(h,Ce(b))):h.url=N.createObjectURL(n)}else h.url=f;r.load(h)},m.onabort=function(){r.fail(new Error("Aborted to read the image with FileReader."))},m.onerror=function(){r.fail(new Error("Failed to read the image with FileReader."))},m.onloadend=function(){r.reader=null},d?m.readAsArrayBuffer(n):m.readAsDataURL(n)}}},{key:"load",value:function(r){var n=this,o=this.file,t=this.image;t.onload=function(){n.draw(ae(ae({},r),{},{naturalWidth:t.naturalWidth,naturalHeight:t.naturalHeight}))},t.onabort=function(){n.fail(new Error("Aborted to load the image."))},t.onerror=function(){n.fail(new Error("Failed to load the image."))},M.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(M.navigator.userAgent)&&(t.crossOrigin="anonymous"),t.alt=o.name,t.src=r.url}},{key:"draw",value:function(r){var n=this,o=r.naturalWidth,t=r.naturalHeight,m=r.rotate,d=m===void 0?0:m,s=r.scaleX,l=s===void 0?1:s,f=r.scaleY,h=f===void 0?1:f,b=this.file,j=this.image,u=this.options,I=document.createElement("canvas"),v=I.getContext("2d"),g=o/t,J=Math.abs(d)%180==90,T=Math.max(u.maxWidth,0)||Infinity,L=Math.max(u.maxHeight,0)||Infinity,Z=Math.max(u.minWidth,0)||0,R=Math.max(u.minHeight,0)||0,C=Math.max(u.width,0)||o,p=Math.max(u.height,0)||t;if(J){var S=[L,T];T=S[0],L=S[1];var c=[R,Z];Z=c[0],R=c[1];var y=[p,C];C=y[0],p=y[1]}T<Infinity&&L<Infinity?L*g>T?L=T/g:T=L*g:T<Infinity?L=T/g:L<Infinity&&(T=L*g),Z>0&&R>0?R*g>Z?R=Z/g:Z=R*g:Z>0?R=Z/g:R>0&&(Z=R*g),p*g>C?p=C/g:C=p*g,C=Math.floor(me(Math.min(Math.max(C,Z),T))),p=Math.floor(me(Math.min(Math.max(p,R),L)));var P=-C/2,U=-p/2,A=C,F=p;if(J){var B=[p,C];C=B[0],p=B[1]}I.width=C,I.height=p,oe(u.mimeType)||(u.mimeType=b.type);var w="transparent";if(b.size>u.convertSize&&u.mimeType==="image/png"&&(w="#fff",u.mimeType="image/jpeg"),v.fillStyle=w,v.fillRect(0,0,C,p),u.beforeDraw&&u.beforeDraw.call(this,v,I),!this.aborted&&(v.save(),v.translate(C/2,p/2),v.rotate(d*Math.PI/180),v.scale(l,h),v.drawImage(j,P,U,A,F),v.restore(),u.drew&&u.drew.call(this,v,I),!this.aborted)){var $=function(k){n.aborted||n.done({naturalWidth:o,naturalHeight:t,result:k})};I.toBlob?I.toBlob($,u.mimeType,u.quality):$(ce(I.toDataURL(u.mimeType,u.quality)))}}},{key:"done",value:function(r){var n=r.naturalWidth,o=r.naturalHeight,t=r.result,m=this.file,d=this.image,s=this.options;if(N&&!s.checkOrientation&&N.revokeObjectURL(d.src),t)if(s.strict&&t.size>m.size&&s.mimeType===m.type&&!(s.width>n||s.height>o||s.minWidth>n||s.minHeight>o))t=m;else{var l=new Date;t.lastModified=l.getTime(),t.lastModifiedDate=l,t.name=m.name,t.name&&t.type!==m.type&&(t.name=t.name.replace(pe,ve(t.type)))}else t=m;this.result=t,s.success&&s.success.call(this,t)}},{key:"fail",value:function(r){var n=this.options;if(n.error)n.error.call(this,r);else throw r}},{key:"abort",value:function(){this.aborted||(this.aborted=!0,this.reader?this.reader.abort():this.image.complete?this.fail(new Error("The compression process has been aborted.")):(this.image.onload=null,this.image.onabort()))}}],[{key:"noConflict",value:function(){return window.Compressor=xe,a}},{key:"setDefaults",value:function(r){ne(z,r)}}]),a}();return be})}}]);
