(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[785],{73947:function(g){g.exports={listContent:"listContent___3vedS",description:"description___3PN_4",extra:"extra___1NSLt"}},98250:function(g){g.exports={standardList:"standardList___kz2pc",headerInfo:"headerInfo___2cRCO",listContent:"listContent___LdtIk",listContentItem:"listContentItem___3NLFa",extraContentSearch:"extraContentSearch___1hRjc",listCard:"listCard___1nD9x",standardListForm:"standardListForm___Aq-Np",formResult:"formResult___2xNbB",listItemMetaTitle:"listItemMetaTitle___2I_Vl",listItemExtra:"listItemExtra___y5uWL",selfTrigger:"selfTrigger___9x7cu",activitiesList:"activitiesList___1qnhj",username:"username___3PmLk",event:"event___27cR9",pageHeaderContent:"pageHeaderContent___1kD8-",avatar:"avatar___1_XIl",content:"content___2OTuT",contentTitle:"contentTitle___1Ifis",extraContent:"extraContent___1AWND",statItem:"statItem___X4Kpk",members:"members___2MGoO",member:"member___17If9",projectList:"projectList___3aP5Q",cardTitle:"cardTitle___9n-it",projectGrid:"projectGrid___2FO9w",projectItemContent:"projectItemContent___2TSFf",datetime:"datetime___1nNWy",activeCard:"activeCard___2O5-J",headerList:"headerList___1unww",stepDescription:"stepDescription___3VOaI"}},55523:function(){},63691:function(g,T,e){"use strict";e.r(T),e.d(T,{Current1Cert:function(){return Je},default:function(){return at}});var v=e(58024),f=e(39144),d=e(54421),l=e(38272),s=e(57663),y=e(71577),I=e(43673),V=e(55523),Z=e(71748),O=e(96156),H=e(22122),p=e(67294),re=e(94184),ae=e.n(re),he=e(65632),ie=e(33860),ge=e(11726),oe=e.n(ge),pe=function(i){var h=i.value,c=i.formatter,C=i.precision,R=i.decimalSeparator,U=i.groupSeparator,L=U===void 0?"":U,D=i.prefixCls,Y;if(typeof c=="function")Y=c(h);else{var J=String(h),$=J.match(/^(-?)(\d*)(\.(\d+))?$/);if(!$||J==="-")Y=J;else{var Q=$[1],K=$[2]||"0",G=$[4]||"";K=K.replace(/\B(?=(\d{3})+(?!\d))/g,L),typeof C=="number"&&(G=oe()(G,C,"0").slice(0,C)),G&&(G="".concat(R).concat(G)),Y=[p.createElement("span",{key:"int",className:"".concat(D,"-content-value-int")},Q,K),G&&p.createElement("span",{key:"decimal",className:"".concat(D,"-content-value-decimal")},G)]}}return p.createElement("span",{className:"".concat(D,"-content-value")},Y)},xe=pe,ye=function(i){var h=i.prefixCls,c=i.className,C=i.style,R=i.valueStyle,U=i.value,L=U===void 0?0:U,D=i.title,Y=i.valueRender,J=i.prefix,$=i.suffix,Q=i.loading,K=i.direction,G=i.onMouseEnter,fe=i.onMouseLeave,le=p.createElement(xe,(0,H.Z)({},i,{value:L})),de=ae()(h,(0,O.Z)({},"".concat(h,"-rtl"),K==="rtl"),c);return p.createElement("div",{className:de,style:C,onMouseEnter:G,onMouseLeave:fe},D&&p.createElement("div",{className:"".concat(h,"-title")},D),p.createElement(ie.Z,{paragraph:!1,loading:Q},p.createElement("div",{style:R,className:"".concat(h,"-content")},J&&p.createElement("span",{className:"".concat(h,"-content-prefix")},J),Y?Y(le):le,$&&p.createElement("span",{className:"".concat(h,"-content-suffix")},$))))};ye.defaultProps={decimalSeparator:".",groupSeparator:",",loading:!1};var De=(0,he.PG)({prefixCls:"statistic"})(ye),je=De,Oe=e(6610),Te=e(5991),Ze=e(10379),Ie=e(54070),se=e(28481),Be=e(32475),Pe=e.n(Be),Ne=[["Y",1e3*60*60*24*365],["M",1e3*60*60*24*30],["D",1e3*60*60*24],["H",1e3*60*60],["m",1e3*60],["s",1e3],["S",1]];function a(N,i){var h=N,c=/\[[^\]]*]/g,C=(i.match(c)||[]).map(function(D){return D.slice(1,-1)}),R=i.replace(c,"[]"),U=Ne.reduce(function(D,Y){var J=(0,se.Z)(Y,2),$=J[0],Q=J[1];if(D.indexOf($)!==-1){var K=Math.floor(h/Q);return h-=K*Q,D.replace(new RegExp("".concat($,"+"),"g"),function(G){var fe=G.length;return Pe()(K.toString(),fe,"0")})}return D},R),L=0;return U.replace(c,function(){var D=C[L];return L+=1,D})}function t(N,i){var h=i.format,c=h===void 0?"":h,C=new Date(N).getTime(),R=Date.now(),U=Math.max(C-R,0);return a(U,c)}var n=e(96159),r=1e3/30;function m(N){return new Date(N).getTime()}var u=function(N){(0,Ze.Z)(h,N);var i=(0,Ie.Z)(h);function h(){var c;return(0,Oe.Z)(this,h),c=i.apply(this,arguments),c.syncTimer=function(){var C=c.props.value,R=m(C);R>=Date.now()?c.startTimer():c.stopTimer()},c.startTimer=function(){if(!c.countdownId){var C=c.props,R=C.onChange,U=C.value,L=m(U);c.countdownId=window.setInterval(function(){c.forceUpdate(),R&&L>Date.now()&&R(L-Date.now())},r)}},c.stopTimer=function(){var C=c.props,R=C.onFinish,U=C.value;if(c.countdownId){clearInterval(c.countdownId),c.countdownId=void 0;var L=m(U);R&&L<Date.now()&&R()}},c.formatCountdown=function(C,R){var U=c.props.format;return t(C,(0,H.Z)((0,H.Z)({},R),{format:U}))},c.valueRender=function(C){return(0,n.Tm)(C,{title:void 0})},c}return(0,Te.Z)(h,[{key:"componentDidMount",value:function(){this.syncTimer()}},{key:"componentDidUpdate",value:function(){this.syncTimer()}},{key:"componentWillUnmount",value:function(){this.stopTimer()}},{key:"render",value:function(){return p.createElement(je,(0,H.Z)({valueRender:this.valueRender},this.props,{formatter:this.formatCountdown}))}}]),h}(p.Component);u.defaultProps={format:"HH:mm:ss"};var A=u;je.Countdown=A;var M=je,S=e(98858),x=e(4914),b=e(8870),E=e(2824),X=e(64335),W=e(75362),j=e(49101),z=e(97363),F=e(71194),B=e(57016),Fe=e(43185),q=e(94412),te=e(57106),_=e(99683),ne=e(9715),P=e(82482),w=e(47673),Re=e(4107),Ee=e(30381),Me=e.n(Ee),He=e(98250),ce=e.n(He),We=e(84391),ze=e(98005),Ae=e.n(ze),o=e(85893),Ue=Re.Z.TextArea,Xe={labelCol:{span:7},wrapperCol:{span:13}},we=function(i){var h=P.Z.useForm(),c=(0,E.Z)(h,1),C=c[0],R=i.done,U=i.visible,L=i.current,D=i.onDone,Y=i.onCancel,J=i.onSubmit;(0,p.useEffect)(function(){C&&!U&&C.resetFields()},[i.visible]),(0,p.useEffect)(function(){L&&C.setFieldsValue((0,b.Z)((0,b.Z)({},L),{},{createdAt:L.createdAt?Me()(L.createdAt):null}))},[i.current]);var $=function(){!C||C.submit()},Q=[],K=function(de){J&&(console.log("2. imagevalues: "+Q),de.imagesupload_id=Q,J(de))},G=R?{footer:null,onCancel:D}:{okText:"Save",onOk:$,onCancel:Y},fe=function(){if(R)return(0,o.jsx)(_.ZP,{status:"success",title:"Done",extra:(0,o.jsx)(y.Z,{type:"primary",onClick:D,children:"Okay"}),className:ce().formResult});var de={name:"imagefile",action:"https://antapi.pythonanywhere.com/calibration/comment/image/",beforeUpload:function(ue){return new Promise(function(me){var Ce=(ue.size/1024/1024).toFixed(1),be;if(Ce<1)be=1;else if(Ce<2)be=.6;else if(Ce<5)be=.4;else return new Promise(function(Ve,Se){Se({msg:"Image not larger than 10m"})});new(Ae())(ue,{quality:be,success:function(Se){me(Se)}})})},headers:{Authorization:"JWT "+localStorage.getItem("access_token")},onChange:function(ue){var me=ue.file,Ce=ue.fileList;me.status!=="uploading"&&(console.log(me,Ce),console.log(me.response.id),Q.push(me.response.id),console.log("2. imagevalues: "+Q))}};return(0,o.jsxs)(P.Z,(0,b.Z)((0,b.Z)({},Xe),{},{form:C,onFinish:K,children:[(0,o.jsx)(P.Z.Item,{label:"Upload",name:"uploadimages",children:(0,o.jsx)(q.Z,(0,b.Z)((0,b.Z)({},de),{},{children:(0,o.jsx)(y.Z,{icon:(0,o.jsx)(We.Z,{}),children:"Click to Upload"})}))}),(0,o.jsx)(P.Z.Item,{name:"content",label:"Content",rules:[{message:"Minimum 5 characters",min:5}],children:(0,o.jsx)(Ue,{rows:4,placeholder:"Minimum 5 characters"})})]}))};return(0,o.jsx)(B.Z,(0,b.Z)((0,b.Z)({title:R?null:"".concat(L?"Edit":"Write"," a commment..."),className:ce().standardListForm,width:640,destroyOnClose:!0,visible:U},G),{},{children:fe()}))},Ke=we,Qe=e(73935),ut=e(94233),ke=e(51890),ct=e(49111),qe=e(19650),ft=e(12968),Ye=e(62462),_e=e(73947),$e=e.n(_e);function et(N){var i=N.jsonImage,h=i.map(function(c){return(0,o.jsx)(Ye.Z,{width:50,src:c.imagefile})});return h}function tt(N){var i=N.jsonImage;return i.length===0?null:i.length!==0?(0,o.jsx)(Ye.Z.PreviewGroup,{children:(0,o.jsx)(qe.Z,{size:"middle",children:(0,o.jsx)(et,{jsonImage:i})})}):(0,o.jsx)("h1",{children:"Error."})}var nt=function(i){var h=i.data,c=h.content,C=h.name,R=h.created,U=h.user,L=h.href,D=h.image;return(0,o.jsxs)("div",{className:$e().listContent,children:[(0,o.jsx)("div",{className:$e().description,children:c}),(0,o.jsx)(tt,{jsonImage:D}),(0,o.jsxs)("div",{className:$e().extra,children:[(0,o.jsx)(ke.C,{src:U.avatar,size:"small"}),(0,o.jsx)("a",{href:L,children:U.user_name}),(0,o.jsx)("em",{children:R})]})]})},rt=nt,Je=function(i){var h=(0,p.useRef)(null),c=i.loading,C=i.dispatch,R=i.Current4Cert.Current5Cert,U=(0,p.useState)(!1),L=(0,E.Z)(U,2),D=L[0],Y=L[1],J=(0,p.useState)(!1),$=(0,E.Z)(J,2),Q=$[0],K=$[1],G=(0,p.useState)(void 0),fe=(0,E.Z)(G,2),le=fe[0],de=fe[1];(0,p.useEffect)(function(){C({type:"Current4Cert/fetch",payload:{}})},[1]);var Ge=function(){K(!0),de(void 0)},ue=function(){if(h.current){var ee=(0,Qe.findDOMNode)(h.current);setTimeout(function(){return ee.blur()},0)}},me=function(){ue(),Y(!1),K(!1)},Ce=function(){ue(),K(!1)},be=function(ee){var k=localStorage.getItem("topic_id"),Le=le?le.id:k;ue(),Y(!0),C({type:"Current4Cert/submit",payload:(0,b.Z)({id:Le},ee)})},Ve={showSizeChanger:!0,showQuickJumper:!0,pageSize:5},Se=function(ee){var k=ee.currentUser2,Le=k.user?k.user.user_name:k.user;return console.log(Le),(0,o.jsx)(X.Z.Consumer,{children:function(st){var lt=st.isMobile;return(0,o.jsxs)(x.Z,{className:ce().headerList,size:"small",column:lt?1:2,children:[(0,o.jsx)(x.Z.Item,{label:"Author",children:Le}),(0,o.jsx)(x.Z.Item,{label:"Customer",children:k.customer}),(0,o.jsx)(x.Z.Item,{label:"Instrument",children:k.instrument}),(0,o.jsx)(x.Z.Item,{label:"Updated",children:k.updated})]})}})},it=function(ee){var k=ee.currentTitle;return(0,o.jsx)("div",{children:k.certificate_id})},ot=function(ee){var k=ee.currentExtra;return(0,o.jsxs)("div",{className:ce().extraContent,children:[(0,o.jsx)("div",{className:ce().statItem,children:(0,o.jsx)(M,{title:"Comment",value:k.post_count})}),(0,o.jsx)("div",{className:ce().statItem,children:(0,o.jsx)(M,{title:"View",value:k.views})})]})};return(0,o.jsxs)("div",{children:[(0,o.jsx)(W.ZP,{title:(0,o.jsx)(it,{currentTitle:R}),content:(0,o.jsx)(Se,{currentUser2:R}),extraContent:(0,o.jsx)(ot,{currentExtra:R}),children:(0,o.jsxs)(f.Z,{children:[(0,o.jsxs)(y.Z,{type:"dashed",style:{width:"100%",marginBottom:8},onClick:Ge,ref:h,children:[(0,o.jsx)(j.Z,{}),"Write a commment..."]}),(0,o.jsx)(l.ZP,{size:"large",loading:c,pagination:Ve,rowKey:"id",itemLayout:"vertical",dataSource:R.comments,renderItem:function(ee){return(0,o.jsxs)(l.ZP.Item,{children:[(0,o.jsx)(l.ZP.Item.Meta,{}),(0,o.jsx)(rt,{data:ee})]},ee.id)}})]})}),(0,o.jsx)(Ke,{done:D,current:le,visible:Q,onDone:me,onCancel:Ce,onSubmit:be})]})},at=(0,z.$j)(function(N){var i=N.Current4Cert,h=N.loading;return{Current4Cert:i,loading:h.models.Current4Cert}})(Je)},98005:function(g){/*!
 * Compressor.js v1.0.7
 * https://fengyuanchen.github.io/compressorjs
 *
 * Copyright 2018-present Chen Fengyuan
 * Released under the MIT license
 *
 * Date: 2020-11-28T07:13:17.754Z
 */(function(T,e){g.exports=e()})(this,function(){"use strict";function T(a,t){if(!(a instanceof t))throw new TypeError("Cannot call a class as a function")}function e(a,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(a,r.key,r)}}function v(a,t,n){return t&&e(a.prototype,t),n&&e(a,n),a}function f(a,t,n){return t in a?Object.defineProperty(a,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):a[t]=n,a}function d(){return d=Object.assign||function(a){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},d.apply(this,arguments)}function l(a,t){var n=Object.keys(a);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(a);t&&(r=r.filter(function(m){return Object.getOwnPropertyDescriptor(a,m).enumerable})),n.push.apply(n,r)}return n}function s(a){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?l(Object(n),!0).forEach(function(r){f(a,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach(function(r){Object.defineProperty(a,r,Object.getOwnPropertyDescriptor(n,r))})}return a}function y(a,t,n){return n={path:t,exports:{},require:function(r,m){return I(r,m==null?n.path:m)}},a(n,n.exports),n.exports}function I(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var V=y(function(a){typeof window!="undefined"&&function(t){var n=t.HTMLCanvasElement&&t.HTMLCanvasElement.prototype,r=t.Blob&&function(){try{return Boolean(new Blob)}catch(S){return!1}}(),m=r&&t.Uint8Array&&function(){try{return new Blob([new Uint8Array(100)]).size===100}catch(S){return!1}}(),u=t.BlobBuilder||t.WebKitBlobBuilder||t.MozBlobBuilder||t.MSBlobBuilder,A=/^data:((.*?)(;charset=.*?)?)(;base64)?,/,M=(r||u)&&t.atob&&t.ArrayBuffer&&t.Uint8Array&&function(S){var x,b,E,X,W,j,z,F,B;if(x=S.match(A),!x)throw new Error("invalid data URI");for(b=x[2]?x[1]:"text/plain"+(x[3]||";charset=US-ASCII"),E=!!x[4],X=S.slice(x[0].length),E?W=atob(X):W=decodeURIComponent(X),j=new ArrayBuffer(W.length),z=new Uint8Array(j),F=0;F<W.length;F+=1)z[F]=W.charCodeAt(F);return r?new Blob([m?z:j],{type:b}):(B=new u,B.append(j),B.getBlob(b))};t.HTMLCanvasElement&&!n.toBlob&&(n.mozGetAsFile?n.toBlob=function(S,x,b){var E=this;setTimeout(function(){b&&n.toDataURL&&M?S(M(E.toDataURL(x,b))):S(E.mozGetAsFile("blob",x))})}:n.toDataURL&&M&&(n.msToBlob?n.toBlob=function(S,x,b){var E=this;setTimeout(function(){(x&&x!=="image/png"||b)&&n.toDataURL&&M?S(M(E.toDataURL(x,b))):S(E.msToBlob(x))})}:n.toBlob=function(S,x,b){var E=this;setTimeout(function(){S(M(E.toDataURL(x,b)))})})),a.exports?a.exports=M:t.dataURLtoBlob=M}(window)}),Z=function(t){return typeof Blob=="undefined"?!1:t instanceof Blob||Object.prototype.toString.call(t)==="[object Blob]"},O={strict:!0,checkOrientation:!0,maxWidth:Infinity,maxHeight:Infinity,minWidth:0,minHeight:0,width:void 0,height:void 0,quality:.8,mimeType:"auto",convertSize:5e6,beforeDraw:null,drew:null,success:null,error:null},H=typeof window!="undefined"&&typeof window.document!="undefined",p=H?window:{},re=Array.prototype.slice;function ae(a){return Array.from?Array.from(a):re.call(a)}var he=/^image\/.+$/;function ie(a){return he.test(a)}function ge(a){var t=ie(a)?a.substr(6):"";return t==="jpeg"&&(t="jpg"),".".concat(t)}var oe=String.fromCharCode;function pe(a,t,n){var r="",m;for(n+=t,m=t;m<n;m+=1)r+=oe(a.getUint8(m));return r}var xe=p.btoa;function ye(a,t){for(var n=[],r=8192,m=new Uint8Array(a);m.length>0;)n.push(oe.apply(null,ae(m.subarray(0,r)))),m=m.subarray(r);return"data:".concat(t,";base64,").concat(xe(n.join("")))}function De(a){var t=new DataView(a),n;try{var r,m,u;if(t.getUint8(0)===255&&t.getUint8(1)===216)for(var A=t.byteLength,M=2;M+1<A;){if(t.getUint8(M)===255&&t.getUint8(M+1)===225){m=M;break}M+=1}if(m){var S=m+4,x=m+10;if(pe(t,S,4)==="Exif"){var b=t.getUint16(x);if(r=b===18761,(r||b===19789)&&t.getUint16(x+2,r)===42){var E=t.getUint32(x+4,r);E>=8&&(u=x+E)}}}if(u){var X=t.getUint16(u,r),W,j;for(j=0;j<X;j+=1)if(W=u+j*12+2,t.getUint16(W,r)===274){W+=8,n=t.getUint16(W,r),t.setUint16(W,1,r);break}}}catch(z){n=1}return n}function je(a){var t=0,n=1,r=1;switch(a){case 2:n=-1;break;case 3:t=-180;break;case 4:r=-1;break;case 5:t=90,r=-1;break;case 6:t=90;break;case 7:t=90,n=-1;break;case 8:t=-90;break}return{rotate:t,scaleX:n,scaleY:r}}var Oe=/\.\d*(?:0|9){12}\d*$/;function Te(a){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e11;return Oe.test(a)?Math.round(a*t)/t:a}var Ze=p.ArrayBuffer,Ie=p.FileReader,se=p.URL||p.webkitURL,Be=/\.\w+$/,Pe=p.Compressor,Ne=function(){function a(t,n){T(this,a),this.file=t,this.image=new Image,this.options=s(s({},O),n),this.aborted=!1,this.result=null,this.init()}return v(a,[{key:"init",value:function(){var n=this,r=this.file,m=this.options;if(!Z(r)){this.fail(new Error("The first argument must be a File or Blob object."));return}var u=r.type;if(!ie(u)){this.fail(new Error("The first argument must be an image File or Blob object."));return}if(!se||!Ie){this.fail(new Error("The current browser does not support image compression."));return}if(Ze||(m.checkOrientation=!1),se&&!m.checkOrientation)this.load({url:se.createObjectURL(r)});else{var A=new Ie,M=m.checkOrientation&&u==="image/jpeg";this.reader=A,A.onload=function(S){var x=S.target,b=x.result,E={};if(M){var X=De(b);X>1||!se?(E.url=ye(b,u),X>1&&d(E,je(X))):E.url=se.createObjectURL(r)}else E.url=b;n.load(E)},A.onabort=function(){n.fail(new Error("Aborted to read the image with FileReader."))},A.onerror=function(){n.fail(new Error("Failed to read the image with FileReader."))},A.onloadend=function(){n.reader=null},M?A.readAsArrayBuffer(r):A.readAsDataURL(r)}}},{key:"load",value:function(n){var r=this,m=this.file,u=this.image;u.onload=function(){r.draw(s(s({},n),{},{naturalWidth:u.naturalWidth,naturalHeight:u.naturalHeight}))},u.onabort=function(){r.fail(new Error("Aborted to load the image."))},u.onerror=function(){r.fail(new Error("Failed to load the image."))},p.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(p.navigator.userAgent)&&(u.crossOrigin="anonymous"),u.alt=m.name,u.src=n.url}},{key:"draw",value:function(n){var r=this,m=n.naturalWidth,u=n.naturalHeight,A=n.rotate,M=A===void 0?0:A,S=n.scaleX,x=S===void 0?1:S,b=n.scaleY,E=b===void 0?1:b,X=this.file,W=this.image,j=this.options,z=document.createElement("canvas"),F=z.getContext("2d"),B=m/u,Fe=Math.abs(M)%180==90,q=Math.max(j.maxWidth,0)||Infinity,te=Math.max(j.maxHeight,0)||Infinity,_=Math.max(j.minWidth,0)||0,ne=Math.max(j.minHeight,0)||0,P=Math.max(j.width,0)||m,w=Math.max(j.height,0)||u;if(Fe){var Re=[te,q];q=Re[0],te=Re[1];var Ee=[ne,_];_=Ee[0],ne=Ee[1];var Me=[w,P];P=Me[0],w=Me[1]}q<Infinity&&te<Infinity?te*B>q?te=q/B:q=te*B:q<Infinity?te=q/B:te<Infinity&&(q=te*B),_>0&&ne>0?ne*B>_?ne=_/B:_=ne*B:_>0?ne=_/B:ne>0&&(_=ne*B),w*B>P?w=P/B:P=w*B,P=Math.floor(Te(Math.min(Math.max(P,_),q))),w=Math.floor(Te(Math.min(Math.max(w,ne),te)));var He=-P/2,ce=-w/2,We=P,ze=w;if(Fe){var Ae=[w,P];P=Ae[0],w=Ae[1]}z.width=P,z.height=w,ie(j.mimeType)||(j.mimeType=X.type);var o="transparent";if(X.size>j.convertSize&&j.mimeType==="image/png"&&(o="#fff",j.mimeType="image/jpeg"),F.fillStyle=o,F.fillRect(0,0,P,w),j.beforeDraw&&j.beforeDraw.call(this,F,z),!this.aborted&&(F.save(),F.translate(P/2,w/2),F.rotate(M*Math.PI/180),F.scale(x,E),F.drawImage(W,He,ce,We,ze),F.restore(),j.drew&&j.drew.call(this,F,z),!this.aborted)){var Ue=function(we){r.aborted||r.done({naturalWidth:m,naturalHeight:u,result:we})};z.toBlob?z.toBlob(Ue,j.mimeType,j.quality):Ue(V(z.toDataURL(j.mimeType,j.quality)))}}},{key:"done",value:function(n){var r=n.naturalWidth,m=n.naturalHeight,u=n.result,A=this.file,M=this.image,S=this.options;if(se&&!S.checkOrientation&&se.revokeObjectURL(M.src),u)if(S.strict&&u.size>A.size&&S.mimeType===A.type&&!(S.width>r||S.height>m||S.minWidth>r||S.minHeight>m))u=A;else{var x=new Date;u.lastModified=x.getTime(),u.lastModifiedDate=x,u.name=A.name,u.name&&u.type!==A.type&&(u.name=u.name.replace(Be,ge(u.type)))}else u=A;this.result=u,S.success&&S.success.call(this,u)}},{key:"fail",value:function(n){var r=this.options;if(r.error)r.error.call(this,n);else throw n}},{key:"abort",value:function(){this.aborted||(this.aborted=!0,this.reader?this.reader.abort():this.image.complete?this.fail(new Error("The compression process has been aborted.")):(this.image.onload=null,this.image.onabort()))}}],[{key:"noConflict",value:function(){return window.Compressor=Pe,a}},{key:"setDefaults",value:function(n){d(O,n)}}]),a}();return Ne})},48983:function(g,T,e){var v=e(40371),f=v("length");g.exports=f},44286:function(g){function T(e){return e.split("")}g.exports=T},18190:function(g){var T=9007199254740991,e=Math.floor;function v(f,d){var l="";if(!f||d<1||d>T)return l;do d%2&&(l+=f),d=e(d/2),d&&(f+=f);while(d);return l}g.exports=v},14259:function(g){function T(e,v,f){var d=-1,l=e.length;v<0&&(v=-v>l?0:l+v),f=f>l?l:f,f<0&&(f+=l),l=v>f?0:f-v>>>0,v>>>=0;for(var s=Array(l);++d<l;)s[d]=e[d+v];return s}g.exports=T},40180:function(g,T,e){var v=e(14259);function f(d,l,s){var y=d.length;return s=s===void 0?y:s,!l&&s>=y?d:v(d,l,s)}g.exports=f},78302:function(g,T,e){var v=e(18190),f=e(80531),d=e(40180),l=e(62689),s=e(88016),y=e(83140),I=Math.ceil;function V(Z,O){O=O===void 0?" ":f(O);var H=O.length;if(H<2)return H?v(O,Z):O;var p=v(O,I(Z/s(O)));return l(O)?d(y(p),0,Z).join(""):p.slice(0,Z)}g.exports=V},62689:function(g){var T="\\ud800-\\udfff",e="\\u0300-\\u036f",v="\\ufe20-\\ufe2f",f="\\u20d0-\\u20ff",d=e+v+f,l="\\ufe0e\\ufe0f",s="\\u200d",y=RegExp("["+s+T+d+l+"]");function I(V){return y.test(V)}g.exports=I},88016:function(g,T,e){var v=e(48983),f=e(62689),d=e(21903);function l(s){return f(s)?d(s):v(s)}g.exports=l},83140:function(g,T,e){var v=e(44286),f=e(62689),d=e(676);function l(s){return f(s)?d(s):v(s)}g.exports=l},21903:function(g){var T="\\ud800-\\udfff",e="\\u0300-\\u036f",v="\\ufe20-\\ufe2f",f="\\u20d0-\\u20ff",d=e+v+f,l="\\ufe0e\\ufe0f",s="["+T+"]",y="["+d+"]",I="\\ud83c[\\udffb-\\udfff]",V="(?:"+y+"|"+I+")",Z="[^"+T+"]",O="(?:\\ud83c[\\udde6-\\uddff]){2}",H="[\\ud800-\\udbff][\\udc00-\\udfff]",p="\\u200d",re=V+"?",ae="["+l+"]?",he="(?:"+p+"(?:"+[Z,O,H].join("|")+")"+ae+re+")*",ie=ae+re+he,ge="(?:"+[Z+y+"?",y,O,H,s].join("|")+")",oe=RegExp(I+"(?="+I+")|"+ge+ie,"g");function pe(xe){for(var ye=oe.lastIndex=0;oe.test(xe);)++ye;return ye}g.exports=pe},676:function(g){var T="\\ud800-\\udfff",e="\\u0300-\\u036f",v="\\ufe20-\\ufe2f",f="\\u20d0-\\u20ff",d=e+v+f,l="\\ufe0e\\ufe0f",s="["+T+"]",y="["+d+"]",I="\\ud83c[\\udffb-\\udfff]",V="(?:"+y+"|"+I+")",Z="[^"+T+"]",O="(?:\\ud83c[\\udde6-\\uddff]){2}",H="[\\ud800-\\udbff][\\udc00-\\udfff]",p="\\u200d",re=V+"?",ae="["+l+"]?",he="(?:"+p+"(?:"+[Z,O,H].join("|")+")"+ae+re+")*",ie=ae+re+he,ge="(?:"+[Z+y+"?",y,O,H,s].join("|")+")",oe=RegExp(I+"(?="+I+")|"+ge+ie,"g");function pe(xe){return xe.match(oe)||[]}g.exports=pe},11726:function(g,T,e){var v=e(78302),f=e(88016),d=e(40554),l=e(79833);function s(y,I,V){y=l(y),I=d(I);var Z=I?f(y):0;return I&&Z<I?y+v(I-Z,V):y}g.exports=s},32475:function(g,T,e){var v=e(78302),f=e(88016),d=e(40554),l=e(79833);function s(y,I,V){y=l(y),I=d(I);var Z=I?f(y):0;return I&&Z<I?v(I-Z,V)+y:y}g.exports=s},18601:function(g,T,e){var v=e(14841),f=1/0,d=17976931348623157e292;function l(s){if(!s)return s===0?s:0;if(s=v(s),s===f||s===-f){var y=s<0?-1:1;return y*d}return s===s?s:0}g.exports=l},40554:function(g,T,e){var v=e(18601);function f(d){var l=v(d),s=l%1;return l===l?s?l-s:l:0}g.exports=f}}]);
