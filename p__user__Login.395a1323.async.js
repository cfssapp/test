(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[531],{57254:function(y,m,e){"use strict";e.d(m,{Z:function(){return M}});var h=e(67294),d={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z"}}]},name:"down",theme:"outlined"},n=d,r=e(27029),l=function(u,g){return h.createElement(r.Z,Object.assign({},u,{ref:g,icon:n}))};l.displayName="DownOutlined";var M=h.forwardRef(l)},49101:function(y,m,e){"use strict";e.d(m,{Z:function(){return M}});var h=e(67294),d={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8z"}},{tag:"path",attrs:{d:"M176 474h672q8 0 8 8v60q0 8-8 8H176q-8 0-8-8v-60q0-8 8-8z"}}]},name:"plus",theme:"outlined"},n=d,r=e(27029),l=function(u,g){return h.createElement(r.Z,Object.assign({},u,{ref:g,icon:n}))};l.displayName="PlusOutlined";var M=h.forwardRef(l)},68408:function(y){y.exports={container:"container___1sYa-",lang:"lang___l6cji",content:"content___2zk1-",top:"top___1C1Zi",header:"header___5xZ3f",logo:"logo___2hXsy",title:"title___1-xuF",desc:"desc___-njyT",main:"main___x4OjT",icon:"icon___rzGKO",other:"other___lLyaU",register:"register___11Twg",prefixIcon:"prefixIcon___23Xrx"}},11816:function(y,m,e){"use strict";e.r(m),e.d(m,{default:function(){return Y}});var h=e(34792),d=e(48086),n=e(8870),r=e(3182),l=e(2824),M=e(17462),I=e(94043),u=e.n(I),g=e(67294),H={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 464h-68V240c0-70.7-57.3-128-128-128H388c-70.7 0-128 57.3-128 128v224h-68c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V496c0-17.7-14.3-32-32-32zM332 240c0-30.9 25.1-56 56-56h248c30.9 0 56 25.1 56 56v224H332V240zm460 600H232V536h560v304zM484 701v53c0 4.4 3.6 8 8 8h40c4.4 0 8-3.6 8-8v-53a48.01 48.01 0 10-56 0z"}}]},name:"lock",theme:"outlined"},V=H,A=e(27029),N=function(S,j){return g.createElement(A.Z,Object.assign({},S,{ref:j,icon:V}))};N.displayName="LockOutlined";var E=g.forwardRef(N),R=e(89366),$=e(15196),w=e(5966),f=e(21010),b=e(73727),k=e(36571),G=e(68408),i=e.n(G),t=e(85893),ae=function(S){var j=S.content;return _jsx(_Alert,{style:{marginBottom:24},message:j,type:"error",showIcon:!0})},X=function(){var S=(0,g.useState)(!1),j=(0,l.Z)(S,2),K=j[0],P=j[1],J=(0,g.useState)({}),D=(0,l.Z)(J,2),F=D[0],Q=D[1],W=(0,g.useState)("account"),T=(0,l.Z)(W,2),q=T[0],se=T[1],B=(0,f.tT)("@@initialState"),L=B.initialState,_=B.setInitialState,x=(0,f.YB)(),ee=function(){var O=(0,r.Z)(u().mark(function v(){var o,a;return u().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,L==null||(o=L.fetchUserInfo)===null||o===void 0?void 0:o.call(L);case 2:if(a=c.sent,!a){c.next=6;break}return c.next=6,_(function(Z){return(0,n.Z)((0,n.Z)({},Z),{},{currentUser:a})});case 6:case"end":return c.stop()}},v)}));return function(){return O.apply(this,arguments)}}(),te=function(){var O=(0,r.Z)(u().mark(function v(o){var a,p,c,Z,U,C;return u().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return P(!0),s.prev=1,s.next=4,(0,k.x4)((0,n.Z)((0,n.Z)({},o),{},{type:q}));case 4:if(a=s.sent,console.log(a),console.log(a.access),console.log(a.refresh),console.log(a.id),localStorage.setItem("access_token",a.access),localStorage.setItem("refresh_token",a.refresh),localStorage.setItem("user_id",a.id),a.status!=="ok"){s.next=23;break}return p=x.formatMessage({id:"pages.login.success",defaultMessage:"\u767B\u5F55\u6210\u529F\uFF01"}),d.default.success(p),s.next=17,ee();case 17:if(f.m8){s.next=19;break}return s.abrupt("return");case 19:return c=f.m8.location.query,Z=c,U=Z.redirect,f.m8.push(U||"/"),s.abrupt("return");case 23:Q(a),s.next=30;break;case 26:s.prev=26,s.t0=s.catch(1),C=x.formatMessage({id:"pages.login.failure",defaultMessage:"\u767B\u5F55\u5931\u8D25\uFF0C\u8BF7\u91CD\u8BD5\uFF01"}),d.default.error(C);case 30:P(!1);case 31:case"end":return s.stop()}},v,null,[[1,26]])}));return function(o){return O.apply(this,arguments)}}(),ne=F.status,re=F.type;return(0,t.jsxs)("div",{className:i().container,children:[(0,t.jsx)("div",{className:i().lang,"data-lang":!0,children:f.pD&&(0,t.jsx)(f.pD,{})}),(0,t.jsxs)("div",{className:i().content,children:[(0,t.jsxs)("div",{className:i().top,children:[(0,t.jsx)("div",{className:i().header,children:(0,t.jsxs)(b.rU,{to:"/",children:[(0,t.jsx)("img",{alt:"logo",className:i().logo,src:"/logo.svg"}),(0,t.jsx)("span",{className:i().title,children:"React"})]})}),(0,t.jsx)("div",{className:i().desc,children:x.formatMessage({id:"pages.layouts.userLayout.title"})})]}),(0,t.jsx)("div",{className:i().main,children:(0,t.jsx)($.ZP,{initialValues:{autoLogin:!0},submitter:{searchConfig:{submitText:x.formatMessage({id:"pages.login.submit",defaultMessage:"\u767B\u5F55"})},render:function(v,o){return o.pop()},submitButtonProps:{loading:K,size:"large",style:{width:"100%"}}},onFinish:function(){var O=(0,r.Z)(u().mark(function v(o){return u().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:te(o);case 1:case"end":return p.stop()}},v)}));return function(v){return O.apply(this,arguments)}}(),children:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(w.Z,{name:"user_name",fieldProps:{size:"large",prefix:(0,t.jsx)(R.Z,{className:i().prefixIcon})},placeholder:x.formatMessage({id:"pages.login.username.placeholder",defaultMessage:"\u7528\u6237\u540D: guest"}),rules:[{required:!0,message:(0,t.jsx)(f._H,{id:"pages.login.username.required",defaultMessage:"\u8BF7\u8F93\u5165\u7528\u6237\u540D!"})}]}),(0,t.jsx)(w.Z.Password,{name:"password",fieldProps:{size:"large",prefix:(0,t.jsx)(E,{className:i().prefixIcon})},placeholder:x.formatMessage({id:"pages.login.password.placeholder",defaultMessage:"\u5BC6\u7801: guest"}),rules:[{required:!0,message:(0,t.jsx)(f._H,{id:"pages.login.password.required",defaultMessage:"\u8BF7\u8F93\u5165\u5BC6\u7801\uFF01"})}]})]})})})]})]})},Y=X},97435:function(y,m){"use strict";function e(h,d){for(var n=Object.assign({},h),r=0;r<d.length;r+=1){var l=d[r];delete n[l]}return n}m.Z=e}}]);
