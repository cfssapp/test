(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[783],{5966:function(ge,$,u){"use strict";var J=u(67294),H=u(88757),Q=u(64893),B=["fieldProps","proFieldProps"];function I(){return I=Object.assign||function(s){for(var o=1;o<arguments.length;o++){var p=arguments[o];for(var d in p)Object.prototype.hasOwnProperty.call(p,d)&&(s[d]=p[d])}return s},I.apply(this,arguments)}function V(s,o){var p=Object.keys(s);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(s);o&&(d=d.filter(function(P){return Object.getOwnPropertyDescriptor(s,P).enumerable})),p.push.apply(p,d)}return p}function x(s){for(var o=1;o<arguments.length;o++){var p=arguments[o]!=null?arguments[o]:{};o%2?V(Object(p),!0).forEach(function(d){X(s,d,p[d])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(p)):V(Object(p)).forEach(function(d){Object.defineProperty(s,d,Object.getOwnPropertyDescriptor(p,d))})}return s}function X(s,o,p){return o in s?Object.defineProperty(s,o,{value:p,enumerable:!0,configurable:!0,writable:!0}):s[o]=p,s}function te(s,o){if(s==null)return{};var p=F(s,o),d,P;if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(s);for(P=0;P<m.length;P++)d=m[P],!(o.indexOf(d)>=0)&&(!Object.prototype.propertyIsEnumerable.call(s,d)||(p[d]=s[d]))}return p}function F(s,o){if(s==null)return{};var p={},d=Object.keys(s),P,m;for(m=0;m<d.length;m++)P=d[m],!(o.indexOf(P)>=0)&&(p[P]=s[P]);return p}var y="text",q=(0,Q.Z)(function(s){var o=s.fieldProps,p=s.proFieldProps,d=te(s,B);return J.createElement(H.ZP,I({mode:"edit",valueType:y,fieldProps:x(x({},o),{},{onChange:function(){for(var m,w,K=arguments.length,Z=new Array(K),E=0;E<K;E++)Z[E]=arguments[E];o==null||(m=o.onChange)===null||m===void 0||m.call.apply(m,[o].concat(Z)),d==null||(w=d.onChange)===null||w===void 0||w.call.apply(w,[d].concat(Z))}})},p))},{valueType:y}),v=(0,Q.Z)(function(s){var o=s.fieldProps,p=s.proFieldProps;return J.createElement(H.ZP,I({mode:"edit",valueType:"password",fieldProps:o},p))},{valueType:y}),W=q;W.Password=v,$.Z=W},24133:function(ge,$,u){"use strict";u.r($),u.d($,{default:function(){return Je}});var J=u(57338),H=u(25084),Q=u(57663),B=u(71577),I=u(49111),V=u(19650),x=u(2824),X=u(8870),te=u(34792),F=u(48086),y=u(3182),q=u(94043),v=u.n(q),W=u(49101),s=u(67294),o=u(97363),p=u(81907),d=u(85224),P=u(9183),m=u(88757),w=u(64893),K=["fieldProps","proFieldProps"];function Z(){return Z=Object.assign||function(e){for(var a=1;a<arguments.length;a++){var r=arguments[a];for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t])}return e},Z.apply(this,arguments)}function E(e,a){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);a&&(t=t.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,t)}return r}function ae(e){for(var a=1;a<arguments.length;a++){var r=arguments[a]!=null?arguments[a]:{};a%2?E(Object(r),!0).forEach(function(t){Pe(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):E(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Pe(e,a,r){return a in e?Object.defineProperty(e,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[a]=r,e}function be(e,a){if(e==null)return{};var r=ye(e,a),t,i;if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(i=0;i<n.length;i++)t=n[i],!(a.indexOf(t)>=0)&&(!Object.prototype.propertyIsEnumerable.call(e,t)||(r[t]=e[t]))}return r}function ye(e,a){if(e==null)return{};var r={},t=Object.keys(e),i,n;for(n=0;n<t.length;n++)i=t[n],!(a.indexOf(i)>=0)&&(r[i]=e[i]);return r}var Oe=function(a,r){var t=a.fieldProps,i=a.proFieldProps,n=be(a,K);return s.createElement(m.ZP,Z({text:t==null?void 0:t.value,ref:r,mode:"edit",valueType:"textarea",fieldProps:ae(ae({},t),{},{onChange:function(){for(var j,b,C=arguments.length,S=new Array(C),R=0;R<C;R++)S[R]=arguments[R];t==null||(j=t.onChange)===null||j===void 0||j.call.apply(j,[t].concat(S)),n==null||(b=n.onChange)===null||b===void 0||b.call.apply(b,[n].concat(S))}})},i))},ne=(0,w.Z)(s.forwardRef(Oe)),je=u(37476),se=u(5966),Fe=u(96459),ke=u(71194),we=u(57016),U=u(3843),k=u(22270);function N(){return N=Object.assign||function(e){for(var a=1;a<arguments.length;a++){var r=arguments[a];for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t])}return e},N.apply(this,arguments)}function le(e,a){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);a&&(t=t.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,t)}return r}function oe(e){for(var a=1;a<arguments.length;a++){var r=arguments[a]!=null?arguments[a]:{};a%2?le(Object(r),!0).forEach(function(t){Te(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):le(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Te(e,a,r){return a in e?Object.defineProperty(e,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[a]=r,e}var Se=s.forwardRef(function(e,a){var r=e.fieldProps,t=e.children,i=e.params,n=e.proFieldProps,O=e.mode,j=e.valueEnum,b=e.request,C=e.showSearch,S=e.options;return s.createElement(m.ZP,N({mode:"edit",valueEnum:(0,k.h)(j),request:b,params:i,valueType:"select",fieldProps:oe({options:S,mode:O,showSearch:C},r),ref:a},n),t)}),Me=s.forwardRef(function(e,a){var r=e.fieldProps,t=e.children,i=e.params,n=e.proFieldProps,O=e.mode,j=e.valueEnum,b=e.request,C=e.options,S=oe({options:C,mode:O||"multiple",labelInValue:!0,showSearch:!0,showArrow:!1,autoClearSearchValue:!0,optionLabelProp:"label",filterOption:!1},r);return s.createElement(m.ZP,N({mode:"edit",valueEnum:(0,k.h)(j),request:b,params:i,valueType:"select",fieldProps:S,ref:a},n),t)}),xe=(0,w.Z)(Se,{customLightMode:!0}),Ce=(0,w.Z)(Me,{customLightMode:!0}),ie=xe;ie.SearchSelect=Ce;var _=ie,_e=u(88983),ue=u(47933),Ze=["fieldProps","options","radioType","layout","proFieldProps","valueEnum"];function G(){return G=Object.assign||function(e){for(var a=1;a<arguments.length;a++){var r=arguments[a];for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t])}return e},G.apply(this,arguments)}function de(e,a){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);a&&(t=t.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,t)}return r}function Ee(e){for(var a=1;a<arguments.length;a++){var r=arguments[a]!=null?arguments[a]:{};a%2?de(Object(r),!0).forEach(function(t){Re(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):de(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Re(e,a,r){return a in e?Object.defineProperty(e,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[a]=r,e}function De(e,a){if(e==null)return{};var r=Be(e,a),t,i;if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(i=0;i<n.length;i++)t=n[i],!(a.indexOf(t)>=0)&&(!Object.prototype.propertyIsEnumerable.call(e,t)||(r[t]=e[t]))}return r}function Be(e,a){if(e==null)return{};var r={},t=Object.keys(e),i,n;for(n=0;n<t.length;n++)i=t[n],!(a.indexOf(i)>=0)&&(r[i]=e[i]);return r}var Ae=s.forwardRef(function(e,a){var r=e.fieldProps,t=e.options,i=e.radioType,n=e.layout,O=e.proFieldProps,j=e.valueEnum,b=De(e,Ze);return s.createElement(m.ZP,G({mode:"edit",valueType:i==="button"?"radioButton":"radio",ref:a,valueEnum:(0,k.h)(j,void 0)},b,{fieldProps:Ee({options:t,layout:n},r)},O))}),Le=s.forwardRef(function(e,a){var r=e.fieldProps,t=e.children;return s.createElement(ue.ZP,G({},r,{ref:a}),t)}),Ie=(0,w.Z)(Le,{valuePropName:"checked",ignoreWidth:!0}),We=(0,w.Z)(Ae,{customLightMode:!0}),ee=Ie;ee.Group=We,ee.Button=ue.ZP.Button;var $e=ee;function re(){return re=Object.assign||function(e){for(var a=1;a<arguments.length;a++){var r=arguments[a];for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t])}return e},re.apply(this,arguments)}var pe="dateTime",He=s.forwardRef(function(e,a){var r=e.fieldProps,t=e.proFieldProps;return s.createElement(m.ZP,re({ref:a,text:r==null?void 0:r.value,mode:"edit",fieldProps:r,valueType:pe},t))}),Ve=(0,w.Z)(He,{valueType:pe,customLightMode:!0}),l=u(85893),Ke=function(a){var r=(0,o.YB)();return(0,l.jsxs)(U.Z,{stepsProps:{size:"small"},stepsFormRender:function(i,n){return(0,l.jsx)(we.Z,{width:640,bodyStyle:{padding:"32px 40px 48px"},destroyOnClose:!0,title:r.formatMessage({id:"pages.searchTable.updateForm.ruleConfig",defaultMessage:"\u89C4\u5219\u914D\u7F6E"}),visible:a.updateModalVisible,footer:n,onCancel:function(){a.onCancel()},children:i})},onFinish:a.onSubmit,children:[(0,l.jsxs)(U.Z.StepForm,{initialValues:{name:a.values.name,desc:a.values.desc},title:r.formatMessage({id:"pages.searchTable.updateForm.basicConfig",defaultMessage:"\u57FA\u672C\u4FE1\u606F"}),children:[(0,l.jsx)(se.Z,{name:"name",label:r.formatMessage({id:"pages.searchTable.updateForm.ruleName.nameLabel",defaultMessage:"\u89C4\u5219\u540D\u79F0"}),width:"md",rules:[{required:!0,message:(0,l.jsx)(o._H,{id:"pages.searchTable.updateForm.ruleName.nameRules",defaultMessage:"\u8BF7\u8F93\u5165\u89C4\u5219\u540D\u79F0\uFF01"})}]}),(0,l.jsx)(ne,{name:"desc",width:"md",label:r.formatMessage({id:"pages.searchTable.updateForm.ruleDesc.descLabel",defaultMessage:"\u89C4\u5219\u63CF\u8FF0"}),placeholder:r.formatMessage({id:"pages.searchTable.updateForm.ruleDesc.descPlaceholder",defaultMessage:"\u8BF7\u8F93\u5165\u81F3\u5C11\u4E94\u4E2A\u5B57\u7B26"}),rules:[{required:!0,message:(0,l.jsx)(o._H,{id:"pages.searchTable.updateForm.ruleDesc.descRules",defaultMessage:"\u8BF7\u8F93\u5165\u81F3\u5C11\u4E94\u4E2A\u5B57\u7B26\u7684\u89C4\u5219\u63CF\u8FF0\uFF01"}),min:5}]})]}),(0,l.jsxs)(U.Z.StepForm,{initialValues:{target:"0",template:"0"},title:r.formatMessage({id:"pages.searchTable.updateForm.ruleProps.title",defaultMessage:"\u914D\u7F6E\u89C4\u5219\u5C5E\u6027"}),children:[(0,l.jsx)(_,{name:"target",width:"md",label:r.formatMessage({id:"pages.searchTable.updateForm.object",defaultMessage:"\u76D1\u63A7\u5BF9\u8C61"}),valueEnum:{0:"\u8868\u4E00",1:"\u8868\u4E8C"}}),(0,l.jsx)(_,{name:"template",width:"md",label:r.formatMessage({id:"pages.searchTable.updateForm.ruleProps.templateLabel",defaultMessage:"\u89C4\u5219\u6A21\u677F"}),valueEnum:{0:"\u89C4\u5219\u6A21\u677F\u4E00",1:"\u89C4\u5219\u6A21\u677F\u4E8C"}}),(0,l.jsx)($e.Group,{name:"type",label:r.formatMessage({id:"pages.searchTable.updateForm.ruleProps.typeLabel",defaultMessage:"\u89C4\u5219\u7C7B\u578B"}),options:[{value:"0",label:"\u5F3A"},{value:"1",label:"\u5F31"}]})]}),(0,l.jsxs)(U.Z.StepForm,{initialValues:{type:"1",frequency:"month"},title:r.formatMessage({id:"pages.searchTable.updateForm.schedulingPeriod.title",defaultMessage:"\u8BBE\u5B9A\u8C03\u5EA6\u5468\u671F"}),children:[(0,l.jsx)(Ve,{name:"time",width:"md",label:r.formatMessage({id:"pages.searchTable.updateForm.schedulingPeriod.timeLabel",defaultMessage:"\u5F00\u59CB\u65F6\u95F4"}),rules:[{required:!0,message:(0,l.jsx)(o._H,{id:"pages.searchTable.updateForm.schedulingPeriod.timeRules",defaultMessage:"\u8BF7\u9009\u62E9\u5F00\u59CB\u65F6\u95F4\uFF01"})}]}),(0,l.jsx)(_,{name:"frequency",label:r.formatMessage({id:"pages.searchTable.updateForm.object",defaultMessage:"\u76D1\u63A7\u5BF9\u8C61"}),width:"md",valueEnum:{month:"\u6708",week:"\u5468"}})]})]})},Ue=Ke,Y=u(36571),Ne=function(){var e=(0,y.Z)(v().mark(function a(r){var t;return v().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return t=F.default.loading("\u6B63\u5728\u6DFB\u52A0"),n.prev=1,n.next=4,(0,Y.HP)((0,X.Z)({},r));case 4:return t(),F.default.success("Added successfully"),n.abrupt("return",!0);case 9:return n.prev=9,n.t0=n.catch(1),t(),F.default.error("Adding failed, please try again!"),n.abrupt("return",!1);case 14:case"end":return n.stop()}},a,null,[[1,9]])}));return function(r){return e.apply(this,arguments)}}(),Ge=function(){var e=(0,y.Z)(v().mark(function a(r){var t;return v().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return t=F.default.loading("Configuring"),n.prev=1,n.next=4,(0,Y.D7)({name:r.name,desc:r.desc,key:r.key});case 4:return t(),F.default.success("Configuration is successful"),n.abrupt("return",!0);case 9:return n.prev=9,n.t0=n.catch(1),t(),F.default.error("Configuration failed, please try again!"),n.abrupt("return",!1);case 14:case"end":return n.stop()}},a,null,[[1,9]])}));return function(r){return e.apply(this,arguments)}}(),Ye=function(){var e=(0,y.Z)(v().mark(function a(r){var t;return v().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(t=F.default.loading("\u6B63\u5728\u5220\u9664"),r){n.next=3;break}return n.abrupt("return",!0);case 3:return n.prev=3,n.next=6,(0,Y.DV)({key:r.map(function(O){return O.key})});case 6:return t(),F.default.success("Deleted successfully and will refresh soon"),n.abrupt("return",!0);case 11:return n.prev=11,n.t0=n.catch(3),t(),F.default.error("Delete failed, please try again"),n.abrupt("return",!1);case 16:case"end":return n.stop()}},a,null,[[3,11]])}));return function(r){return e.apply(this,arguments)}}(),ze=function(){var a=(0,s.useState)(!1),r=(0,x.Z)(a,2),t=r[0],i=r[1],n=(0,s.useState)(!1),O=(0,x.Z)(n,2),j=O[0],b=O[1],C=(0,s.useState)(!1),S=(0,x.Z)(C,2),R=S[0],Qe=S[1],A=(0,s.useRef)(),Xe=(0,s.useState)(),ce=(0,x.Z)(Xe,2),T=ce[0],z=ce[1],qe=(0,s.useState)([]),fe=(0,x.Z)(qe,2),L=fe[0],ve=fe[1],me=(0,o.YB)(),he=[{title:"#",dataIndex:"index",valueType:"indexBorder",width:48},{title:"Name",dataIndex:["avatar","imagefile"],valueType:"avatar",tip:"Terms and Conditions May Apply",render:function(c,f){return(0,l.jsxs)(V.Z,{children:[(0,l.jsx)("span",{children:c}),f.name]})},hideInSearch:!0},{title:"Price",dataIndex:"price",sorter:!0,hideInSearch:!0},{title:"Category",dataIndex:"category",valueEnum:{Burgers:{text:"Burgers"},Beverages:{text:"Beverages"}},hideInTable:!0},{title:(0,l.jsx)(o._H,{id:"pages.searchTable.titleOption",defaultMessage:"Operating"}),dataIndex:"option",valueType:"option",render:function(c,f){return[(0,l.jsx)("a",{onClick:function(){b(!0),z(f)},children:(0,l.jsx)(B.Z,{shape:"circle",icon:(0,l.jsx)(W.Z,{})})},"config")]}}];return(0,l.jsxs)(p.ZP,{children:[(0,l.jsx)(P.ZP,{headerTitle:me.formatMessage({id:"pages.searchTable.title",defaultMessage:"Enquiry form"}),actionRef:A,rowKey:function(c,f){return"complete".concat(c.id).concat(f)},search:{labelWidth:120},toolBarRender:function(){return[(0,l.jsxs)(B.Z,{type:"primary",onClick:function(){i(!0)},children:[(0,l.jsx)(W.Z,{})," ",(0,l.jsx)(o._H,{id:"pages.searchTable.new",defaultMessage:"New"})]},"primary")]},request:function(){var h=(0,y.Z)(v().mark(function c(f){var M;return v().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.next=2,(0,Y.jR)(f);case 2:return M=g.sent,g.abrupt("return",Promise.resolve({data:M,success:!0}));case 4:case"end":return g.stop()}},c)}));return function(c){return h.apply(this,arguments)}}(),columns:he,rowSelection:{onChange:function(c,f){ve(f)}}}),(L==null?void 0:L.length)>0&&(0,l.jsxs)(d.Z,{extra:(0,l.jsxs)("div",{children:[(0,l.jsx)(o._H,{id:"pages.searchTable.chosen",defaultMessage:"Chosen"})," ",(0,l.jsx)("a",{style:{fontWeight:600},children:L.length})," ",(0,l.jsx)(o._H,{id:"pages.searchTable.item",defaultMessage:"\u9879"}),"\xA0\xA0",(0,l.jsxs)("span",{children:[(0,l.jsx)(o._H,{id:"pages.searchTable.totalServiceCalls",defaultMessage:"Total number of service calls"})," ",L.reduce(function(h,c){return h+c.callNo},0)," ",(0,l.jsx)(o._H,{id:"pages.searchTable.tenThousand",defaultMessage:"\u4E07"})]})]}),children:[(0,l.jsx)(B.Z,{onClick:(0,y.Z)(v().mark(function h(){var c,f;return v().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:return D.next=2,Ye(L);case 2:ve([]),(c=A.current)===null||c===void 0||(f=c.reloadAndRest)===null||f===void 0||f.call(c);case 4:case"end":return D.stop()}},h)})),children:(0,l.jsx)(o._H,{id:"pages.searchTable.batchDeletion",defaultMessage:"Batch deletion"})}),(0,l.jsx)(B.Z,{type:"primary",children:(0,l.jsx)(o._H,{id:"pages.searchTable.batchApproval",defaultMessage:"Batch approval"})})]}),(0,l.jsxs)(je.Z,{title:me.formatMessage({id:"pages.searchTable.createForm.newRule",defaultMessage:"New rule"}),width:"400px",visible:t,onVisibleChange:i,onFinish:function(){var h=(0,y.Z)(v().mark(function c(f){var M;return v().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.next=2,Ne(f);case 2:M=g.sent,M&&(i(!1),A.current&&A.current.reload());case 4:case"end":return g.stop()}},c)}));return function(c){return h.apply(this,arguments)}}(),children:[(0,l.jsx)(se.Z,{rules:[{required:!0,message:(0,l.jsx)(o._H,{id:"pages.searchTable.ruleName",defaultMessage:"Rule name is required"})}],width:"md",name:"name"}),(0,l.jsx)(ne,{width:"md",name:"desc"})]}),(0,l.jsx)(Ue,{onSubmit:function(){var h=(0,y.Z)(v().mark(function c(f){var M;return v().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.next=2,Ge(f);case 2:M=g.sent,M&&(b(!1),z(void 0),A.current&&A.current.reload());case 4:case"end":return g.stop()}},c)}));return function(c){return h.apply(this,arguments)}}(),onCancel:function(){b(!1),R||z(void 0)},updateModalVisible:j,values:T||{}}),(0,l.jsx)(H.Z,{width:600,visible:R,onClose:function(){z(void 0),Qe(!1)},closable:!1,children:(T==null?void 0:T.name)&&(0,l.jsx)(Fe.Z,{column:2,title:T==null?void 0:T.name,request:(0,y.Z)(v().mark(function h(){return v().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.abrupt("return",{data:T||{}});case 1:case"end":return f.stop()}},h)})),params:{id:T==null?void 0:T.name},columns:he})})]})},Je=ze}}]);
