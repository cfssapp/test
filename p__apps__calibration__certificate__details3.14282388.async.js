(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[590],{61629:function(b){b.exports={standardList:"standardList___3cq5a",headerInfo:"headerInfo___2bh9Z",listContent:"listContent___2Ur6Q",listContentItem:"listContentItem___2Tu0L",extraContentSearch:"extraContentSearch___2HxgW",listCard:"listCard___3BD5e",standardListForm:"standardListForm___3Rbsr",formResult:"formResult___2dfAJ",listItemMetaTitle:"listItemMetaTitle___q9hQR",listItemExtra:"listItemExtra___29I2r",selfTrigger:"selfTrigger___1h6G_",activitiesList:"activitiesList___ttEqm",username:"username___1n-5M",event:"event___20oSH",pageHeaderContent:"pageHeaderContent___VO_6F",avatar:"avatar___1X4PH",content:"content___1JR6w",contentTitle:"contentTitle___W_ErP",extraContent:"extraContent___2mbk3",statItem:"statItem___1tv9Q",members:"members___1Sd6q",member:"member___QjtjT",projectList:"projectList___rJhN9",cardTitle:"cardTitle___2bmI8",projectGrid:"projectGrid___RSx7R",projectItemContent:"projectItemContent___28R0d",datetime:"datetime___3zrUP",activeCard:"activeCard___106ks",headerList:"headerList___3nbJ5",stepDescription:"stepDescription___20D3s"}},41077:function(b,B,t){"use strict";t.r(B),t.d(B,{ToDoList:function(){return O},default:function(){return et}});var mt=t(95300),P=t(7277),vt=t(98858),f=t(4914),l=t(8870),ft=t(59250),J=t(13013),ht=t(30887),S=t(99210),xt=t(71194),R=t(57016),j=t(2824),d=t(67294),Q=t(64335),z=t(81907),V=t(57254),p=t(97363),Ct=t(57106),G=t(99683),jt=t(57663),W=t(71577),Ft=t(9715),y=t(82482),Zt=t(47673),$=t(4107),X=t(30381),K=t.n(X),Y=t(61629),c=t.n(Y),e=t(85893),w=$.Z.TextArea,k={labelCol:{span:7},wrapperCol:{span:13}},q=function(r){var m=y.Z.useForm(),H=(0,j.Z)(m,1),s=H[0],u=r.done,Z=r.visible,i=r.current,E=r.onDone,g=r.onCancel,T=r.onSubmit;(0,d.useEffect)(function(){s&&!Z&&s.resetFields()},[r.visible]),(0,d.useEffect)(function(){i&&s.setFieldsValue((0,l.Z)((0,l.Z)({},i),{},{createdAt:i.createdAt?K()(i.createdAt):null}))},[r.current]);var I=function(){!s||s.submit()},D=function(x){T&&T(x)},v=u?{footer:null,onCancel:E}:{okText:"\u4FDD\u5B58",onOk:I,onCancel:g},L=function(){return u?(0,e.jsx)(G.ZP,{status:"success",title:"\u64CD\u4F5C\u6210\u529F",subTitle:"\u4E00\u7CFB\u5217\u7684\u4FE1\u606F\u63CF\u8FF0\uFF0C\u5F88\u77ED\u540C\u6837\u4E5F\u53EF\u4EE5\u5E26\u6807\u70B9\u3002",extra:(0,e.jsx)(W.Z,{type:"primary",onClick:E,children:"\u77E5\u9053\u4E86"}),className:c().formResult}):(0,e.jsx)(y.Z,(0,l.Z)((0,l.Z)({},k),{},{form:s,onFinish:D,children:(0,e.jsx)(y.Z.Item,{name:"content",label:"content",rules:[{message:"\u8BF7\u8F93\u5165\u81F3\u5C11\u4E94\u4E2A\u5B57\u7B26\u7684\u4EA7\u54C1\u63CF\u8FF0\uFF01",min:5}],children:(0,e.jsx)(w,{rows:4,placeholder:"\u8BF7\u8F93\u5165\u81F3\u5C11\u4E94\u4E2A\u5B57\u7B26"})})}))};return(0,e.jsx)(R.Z,(0,l.Z)((0,l.Z)({title:u?null:"".concat(i?"Edit":"Write"," a commment..."),className:c().standardListForm,width:640,destroyOnClose:!0,visible:Z},v),{},{children:L()}))},_=q,tt=t(73935),O=function(r){var m=(0,d.useRef)(null),H=r.loading,s=r.dispatch,u=r.todo4list.todoMList,Z=(0,d.useState)(!1),i=(0,j.Z)(Z,2),E=i[0],g=i[1],T=(0,d.useState)(!1),I=(0,j.Z)(T,2),D=I[0],v=I[1],L=(0,d.useState)(void 0),h=(0,j.Z)(L,2),x=h[0],N=h[1];(0,d.useEffect)(function(){s({type:"todo4list/fetch",payload:{}})},[1]);var Et=function(){v(!0),N(void 0)},nt=function(n){v(!0),N(n)},at=function(n){s({type:"todo4list/submit",payload:{id:n}})},rt=function(n,a){n==="edit"?nt(a):n==="delete"&&R.Z.confirm({title:"\u5220\u9664\u4EFB\u52A1",content:"\u786E\u5B9A\u5220\u9664\u8BE5\u4EFB\u52A1\u5417\uFF1F",okText:"\u786E\u8BA4",cancelText:"\u53D6\u6D88",onOk:function(){return at(a.id)}})},gt=function(n){var a=n.item;return(0,e.jsx)(J.Z,{overlay:(0,e.jsxs)(S.Z,{onClick:function(U){var A=U.key;return rt(A,a)},children:[(0,e.jsx)(S.Z.Item,{children:"\u7F16\u8F91"},"edit"),(0,e.jsx)(S.Z.Item,{children:"\u5220\u9664"},"delete")]}),children:(0,e.jsxs)("a",{children:["\u66F4\u591A ",(0,e.jsx)(V.Z,{})]})})},M=function(){if(m.current){var n=(0,tt.findDOMNode)(m.current);setTimeout(function(){return n.blur()},0)}},ot=function(){M(),g(!1),v(!1)},st=function(){M(),v(!1)},it=function(n){var a=localStorage.getItem("topic_id"),C=x?x.id:a;M(),g(!0),s({type:"todo4list/submit",payload:(0,l.Z)({id:C},n)})},Tt={showSizeChanger:!0,showQuickJumper:!0,pageSize:5},lt=function(n){var a=n.currentUser2,C=a.user?a.user.user_name:a.user;return(0,e.jsx)(Q.Z.Consumer,{children:function(A){var ct=A.isMobile;return(0,e.jsxs)(f.Z,{className:c().headerList,size:"small",column:ct?1:2,children:[(0,e.jsx)(f.Z.Item,{label:"Author",children:C}),(0,e.jsx)(f.Z.Item,{label:"Forum",children:a.forum}),(0,e.jsx)(f.Z.Item,{label:"Created",children:a.created}),(0,e.jsx)(f.Z.Item,{label:"Updated",children:a.updated})]})}})},dt=function(n){var a=n.currentTitle;return(0,e.jsx)("div",{children:a.name})},ut=function(n){var a=n.currentExtra;return(0,e.jsxs)("div",{className:c().extraContent,children:[(0,e.jsx)("div",{className:c().statItem,children:(0,e.jsx)(P.Z,{title:"Comment",value:a.post_count})}),(0,e.jsx)("div",{className:c().statItem,children:(0,e.jsx)(P.Z,{title:"View",value:a.views})})]})};return(0,e.jsxs)("div",{children:[(0,e.jsx)(z.ZP,{title:(0,e.jsx)(dt,{currentTitle:u}),content:(0,e.jsx)(lt,{currentUser2:u}),extraContent:(0,e.jsx)(ut,{currentExtra:u})}),(0,e.jsx)(_,{done:E,current:x,visible:D,onDone:ot,onCancel:st,onSubmit:it})]})},et=(0,p.$j)(function(F){var r=F.todo4list,m=F.loading;return{todo4list:r,loading:m.models.todo4list}})(O)}}]);
