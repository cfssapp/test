(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[900],{82844:function(W){W.exports={listContent:"listContent___1x3nG",description:"description___3rQp7",extra:"extra___15ilX"}},75783:function(W){W.exports={standardList:"standardList___12M5M",headerInfo:"headerInfo___3iLzK",listContent:"listContent___1_Cvn",listContentItem:"listContentItem___fvw6z",extraContentSearch:"extraContentSearch___2w4WU",listCard:"listCard___23sqt",standardListForm:"standardListForm___2zy7M",formResult:"formResult___19zr2",listItemMetaTitle:"listItemMetaTitle___34CGT",listItemExtra:"listItemExtra___3vhXh",selfTrigger:"selfTrigger___pplx0",activitiesList:"activitiesList___2buVg",username:"username___1LZL5",event:"event___1zLE0",pageHeaderContent:"pageHeaderContent___1V-0T",avatar:"avatar___SEx8Z",content:"content___3C83U",contentTitle:"contentTitle___eOYxA",extraContent:"extraContent___1gxOE",statItem:"statItem___2aNoO",members:"members___3CjDC",member:"member___1-70y",projectList:"projectList___3UyQd",cardTitle:"cardTitle___1htJM",projectGrid:"projectGrid___M6Vnx",projectItemContent:"projectItemContent___P0j61",datetime:"datetime___1pjFN",activeCard:"activeCard___-tAuo",headerList:"headerList___uOHzJ",stepDescription:"stepDescription___1X6AT"}},61729:function(W,N,t){"use strict";t.r(N),t.d(N,{ToDoList:function(){return lt},default:function(){return yt}});var g=t(58024),M=t(39144),I=t(54421),x=t(38272),r=t(57663),o=t(71577),i=t(95300),m=t(7277),U=t(98858),j=t(4914),Z=t(8870),k=t(59250),c=t(13013),v=t(30887),h=t(99210),a=t(71194),y=t(57016),L=t(2824),s=t(67294),d=t(64335),O=t(81907),nt=t(57254),K=t(49101),E=t(97363),b=t(57106),T=t(99683),e=t(9715),l=t(82482),C=t(47673),z=t(4107),P=t(30381),$=t.n(P),H=t(75783),F=t.n(H),n=t(85893),ut=z.Z.TextArea,vt={labelCol:{span:7},wrapperCol:{span:13}},ft=function(p){var S=l.Z.useForm(),J=(0,L.Z)(S,1),A=J[0],R=p.done,V=p.visible,B=p.current,_=p.onDone,q=p.onCancel,tt=p.onSubmit;(0,s.useEffect)(function(){A&&!V&&A.resetFields()},[p.visible]),(0,s.useEffect)(function(){B&&A.setFieldsValue((0,Z.Z)((0,Z.Z)({},B),{},{createdAt:B.createdAt?$()(B.createdAt):null}))},[p.current]);var et=function(){!A||A.submit()},ot=function(Y){tt&&tt(Y)},G=R?{footer:null,onCancel:_}:{okText:"\u4FDD\u5B58",onOk:et,onCancel:q},it=function(){return R?(0,n.jsx)(T.ZP,{status:"success",title:"\u64CD\u4F5C\u6210\u529F",subTitle:"\u4E00\u7CFB\u5217\u7684\u4FE1\u606F\u63CF\u8FF0\uFF0C\u5F88\u77ED\u540C\u6837\u4E5F\u53EF\u4EE5\u5E26\u6807\u70B9\u3002",extra:(0,n.jsx)(o.Z,{type:"primary",onClick:_,children:"\u77E5\u9053\u4E86"}),className:F().formResult}):(0,n.jsx)(l.Z,(0,Z.Z)((0,Z.Z)({},vt),{},{form:A,onFinish:ot,children:(0,n.jsx)(l.Z.Item,{name:"content",label:"content",rules:[{message:"\u8BF7\u8F93\u5165\u81F3\u5C11\u4E94\u4E2A\u5B57\u7B26\u7684\u4EA7\u54C1\u63CF\u8FF0\uFF01",min:5}],children:(0,n.jsx)(ut,{rows:4,placeholder:"\u8BF7\u8F93\u5165\u81F3\u5C11\u4E94\u4E2A\u5B57\u7B26"})})}))};return(0,n.jsx)(y.Z,(0,Z.Z)((0,Z.Z)({title:R?null:"".concat(B?"Edit":"Write"," a commment..."),className:F().standardListForm,width:640,destroyOnClose:!0,visible:V},G),{},{children:it()}))},mt=ft,ht=t(73935),Pt=t(94233),Ct=t(51890),pt=t(82844),rt=t.n(pt),gt=function(p){var S=p.data,J=S.content,A=S.name,R=S.created,V=S.user,B=S.href;return(0,n.jsxs)("div",{className:rt().listContent,children:[(0,n.jsx)("div",{className:rt().description,children:J}),(0,n.jsxs)("div",{className:rt().extra,children:[(0,n.jsx)(Ct.C,{src:V.avatar,size:"small"}),(0,n.jsx)("a",{href:B,children:V.user_name}),(0,n.jsx)("em",{children:R})]})]})},xt=gt,lt=function(p){var S=(0,s.useRef)(null),J=p.loading,A=p.dispatch,R=p.todo2list.todoMList,V=(0,s.useState)(!1),B=(0,L.Z)(V,2),_=B[0],q=B[1],tt=(0,s.useState)(!1),et=(0,L.Z)(tt,2),ot=et[0],G=et[1],it=(0,s.useState)(void 0),Q=(0,L.Z)(it,2),Y=Q[0],ct=Q[1];(0,s.useEffect)(function(){A({type:"todo2list/fetch",payload:{}})},[1]);var Et=function(){G(!0),ct(void 0)},Zt=function(u){G(!0),ct(u)},jt=function(u){A({type:"todo2list/submit",payload:{id:u}})},Lt=function(u,f){u==="edit"?Zt(f):u==="delete"&&y.Z.confirm({title:"\u5220\u9664\u4EFB\u52A1",content:"\u786E\u5B9A\u5220\u9664\u8BE5\u4EFB\u52A1\u5417\uFF1F",okText:"\u786E\u8BA4",cancelText:"\u53D6\u6D88",onOk:function(){return jt(f.id)}})},At=function(u){var f=u.item;return(0,n.jsx)(c.Z,{overlay:(0,n.jsxs)(h.Z,{onClick:function(dt){var st=dt.key;return Lt(st,f)},children:[(0,n.jsx)(h.Z.Item,{children:"\u7F16\u8F91"},"edit"),(0,n.jsx)(h.Z.Item,{children:"\u5220\u9664"},"delete")]}),children:(0,n.jsxs)("a",{children:["\u66F4\u591A ",(0,n.jsx)(nt.Z,{})]})})},at=function(){if(S.current){var u=(0,ht.findDOMNode)(S.current);setTimeout(function(){return u.blur()},0)}},Tt=function(){at(),q(!1),G(!1)},St=function(){at(),G(!1)},Nt=function(u){var f=localStorage.getItem("topic_id"),w=Y?Y.id:f;at(),q(!0),A({type:"todo2list/submit",payload:(0,Z.Z)({id:w},u)})},Mt={showSizeChanger:!0,showQuickJumper:!0,pageSize:5},It=function(u){var f=u.currentUser2,w=f.user?f.user.user_name:f.user;return(0,n.jsx)(d.Z.Consumer,{children:function(st){var Ot=st.isMobile;return(0,n.jsxs)(j.Z,{className:F().headerList,size:"small",column:Ot?1:2,children:[(0,n.jsx)(j.Z.Item,{label:"Author",children:w}),(0,n.jsx)(j.Z.Item,{label:"Forum",children:f.forum}),(0,n.jsx)(j.Z.Item,{label:"Created",children:f.created}),(0,n.jsx)(j.Z.Item,{label:"Updated",children:f.updated})]})}})},Ft=function(u){var f=u.currentTitle;return(0,n.jsx)("div",{children:f.name})},Dt=function(u){var f=u.currentExtra;return(0,n.jsxs)("div",{className:F().extraContent,children:[(0,n.jsx)("div",{className:F().statItem,children:(0,n.jsx)(m.Z,{title:"Comment",value:f.post_count})}),(0,n.jsx)("div",{className:F().statItem,children:(0,n.jsx)(m.Z,{title:"View",value:f.views})})]})};return(0,n.jsxs)("div",{children:[(0,n.jsx)(O.ZP,{title:(0,n.jsx)(Ft,{currentTitle:R}),content:(0,n.jsx)(It,{currentUser2:R}),extraContent:(0,n.jsx)(Dt,{currentExtra:R}),children:(0,n.jsxs)(M.Z,{children:[(0,n.jsxs)(o.Z,{type:"dashed",style:{width:"100%",marginBottom:8},onClick:Et,ref:S,children:[(0,n.jsx)(K.Z,{}),"Write a commment..."]}),(0,n.jsx)(x.ZP,{size:"large",loading:J,pagination:Mt,rowKey:"id",itemLayout:"vertical",dataSource:R.posts,renderItem:function(u){return(0,n.jsxs)(x.ZP.Item,{extra:(0,n.jsx)("div",{className:F().listItemExtra}),children:[(0,n.jsx)(x.ZP.Item.Meta,{}),(0,n.jsx)(xt,{data:u})]},u.id)}})]})}),(0,n.jsx)(mt,{done:_,current:Y,visible:ot,onDone:Tt,onCancel:St,onSubmit:Nt})]})},yt=(0,E.$j)(function(X){var p=X.todo2list,S=X.loading;return{todo2list:p,loading:S.models.todo2list}})(lt)},57838:function(W,N,t){"use strict";t.d(N,{Z:function(){return I}});var g=t(28481),M=t(67294);function I(){var x=M.useReducer(function(i){return i+1},0),r=(0,g.Z)(x,2),o=r[1];return o}},12435:function(W,N,t){"use strict";t.d(N,{Z:function(){return j}});var g=t(85061),M=t(6610),I=t(74204),x=t(70183),r=[],o="ant-scrolling-effect",i=new RegExp("".concat(o),"g"),m=0,U=new Map,j=function Z(k){var c=this;(0,M.Z)(this,Z),this.lockTarget=void 0,this.options=void 0,this.getContainer=function(){var v;return(v=c.options)===null||v===void 0?void 0:v.container},this.reLock=function(v){var h=r.find(function(a){var y=a.target;return y===c.lockTarget});h&&c.unLock(),c.options=v,h&&(h.options=v,c.lock())},this.lock=function(){var v;if(!r.some(function(s){var d=s.target;return d===c.lockTarget})){if(r.some(function(s){var d,O=s.options;return(O==null?void 0:O.container)===((d=c.options)===null||d===void 0?void 0:d.container)})){r=[].concat((0,g.Z)(r),[{target:c.lockTarget,options:c.options}]);return}var h=0,a=((v=c.options)===null||v===void 0?void 0:v.container)||document.body;(a===document.body&&window.innerWidth-document.documentElement.clientWidth>0||a.scrollHeight>a.clientHeight)&&(h=(0,I.Z)());var y=a.className;if(r.filter(function(s){var d,O=s.options;return(O==null?void 0:O.container)===((d=c.options)===null||d===void 0?void 0:d.container)}).length===0&&U.set(a,(0,x.Z)({width:h!==0?"calc(100% - ".concat(h,"px)"):void 0,overflow:"hidden",overflowX:"hidden",overflowY:"hidden"},{element:a})),!i.test(y)){var L="".concat(y," ").concat(o);a.className=L.trim()}r=[].concat((0,g.Z)(r),[{target:c.lockTarget,options:c.options}])}},this.unLock=function(){var v,h=r.find(function(L){var s=L.target;return s===c.lockTarget});if(r=r.filter(function(L){var s=L.target;return s!==c.lockTarget}),!(!h||r.some(function(L){var s,d=L.options;return(d==null?void 0:d.container)===((s=h.options)===null||s===void 0?void 0:s.container)}))){var a=((v=c.options)===null||v===void 0?void 0:v.container)||document.body,y=a.className;!i.test(y)||((0,x.Z)(U.get(a),{element:a}),U.delete(a),a.className=a.className.replace(i,"").trim())}},this.lockTarget=m++,this.options=k}},96633:function(W,N,t){"use strict";t.d(N,{Z:function(){return nt}});var g=t(6610),M=t(5991),I=t(10379),x=t(54070),r=t(90484),o=t(67294),i=t(75164),m=t(59015),U=t(98924),j=t(74204),Z=t(70183);function k(){return document.body.scrollHeight>(window.innerHeight||document.documentElement.clientHeight)&&window.innerWidth>document.body.offsetWidth}var c={},v=function(K){if(!(!k()&&!K)){var E="ant-scrolling-effect",b=new RegExp("".concat(E),"g"),T=document.body.className;if(K){if(!b.test(T))return;(0,Z.Z)(c),c={},document.body.className=T.replace(b,"").trim();return}var e=(0,j.Z)();if(e&&(c=(0,Z.Z)({position:"relative",width:"calc(100% - ".concat(e,"px)")}),!b.test(T))){var l="".concat(T," ").concat(E);document.body.className=l.trim()}}},h=t(12435),a=0,y=(0,U.Z)();function L(){return 0}var s={},d=function(E){if(!y)return null;if(E){if(typeof E=="string")return document.querySelectorAll(E)[0];if(typeof E=="function")return E();if((0,r.Z)(E)==="object"&&E instanceof window.HTMLElement)return E}return document.body},O=function(K){(0,I.Z)(b,K);var E=(0,x.Z)(b);function b(T){var e;return(0,g.Z)(this,b),e=E.call(this,T),e.container=void 0,e.componentRef=o.createRef(),e.rafId=void 0,e.scrollLocker=void 0,e.renderComponent=void 0,e.updateScrollLocker=function(l){var C=l||{},z=C.visible,P=e.props,$=P.getContainer,H=P.visible;H&&H!==z&&y&&d($)!==e.scrollLocker.getContainer()&&e.scrollLocker.reLock({container:d($)})},e.updateOpenCount=function(l){var C=l||{},z=C.visible,P=C.getContainer,$=e.props,H=$.visible,F=$.getContainer;H!==z&&y&&d(F)===document.body&&(H&&!z?a+=1:l&&(a-=1));var n=typeof F=="function"&&typeof P=="function";(n?F.toString()!==P.toString():F!==P)&&e.removeCurrentContainer()},e.attachToParent=function(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(l||e.container&&!e.container.parentNode){var C=d(e.props.getContainer);return C?(C.appendChild(e.container),!0):!1}return!0},e.getContainer=function(){return y?(e.container||(e.container=document.createElement("div"),e.attachToParent(!0)),e.setWrapperClassName(),e.container):null},e.setWrapperClassName=function(){var l=e.props.wrapperClassName;e.container&&l&&l!==e.container.className&&(e.container.className=l)},e.removeCurrentContainer=function(){var l,C;(l=e.container)===null||l===void 0||(C=l.parentNode)===null||C===void 0||C.removeChild(e.container)},e.switchScrollingEffect=function(){a===1&&!Object.keys(s).length?(v(),s=(0,Z.Z)({overflow:"hidden",overflowX:"hidden",overflowY:"hidden"})):a||((0,Z.Z)(s),s={},v(!0))},e.scrollLocker=new h.Z({container:d(T.getContainer)}),e}return(0,M.Z)(b,[{key:"componentDidMount",value:function(){var e=this;this.updateOpenCount(),this.attachToParent()||(this.rafId=(0,i.Z)(function(){e.forceUpdate()}))}},{key:"componentDidUpdate",value:function(e){this.updateOpenCount(e),this.updateScrollLocker(e),this.setWrapperClassName(),this.attachToParent()}},{key:"componentWillUnmount",value:function(){var e=this.props,l=e.visible,C=e.getContainer;y&&d(C)===document.body&&(a=l&&a?a-1:a),this.removeCurrentContainer(),i.Z.cancel(this.rafId)}},{key:"render",value:function(){var e=this.props,l=e.children,C=e.forceRender,z=e.visible,P=null,$={getOpenCount:function(){return a},getContainer:this.getContainer,switchScrollingEffect:this.switchScrollingEffect,scrollLocker:this.scrollLocker};return(C||z||this.componentRef.current)&&(P=o.createElement(m.Z,{getContainer:this.getContainer,ref:this.componentRef},l($))),P}}]),b}(o.Component),nt=O},74204:function(W,N,t){"use strict";t.d(N,{Z:function(){return M},o:function(){return x}});var g;function M(r){if(typeof document=="undefined")return 0;if(r||g===void 0){var o=document.createElement("div");o.style.width="100%",o.style.height="200px";var i=document.createElement("div"),m=i.style;m.position="absolute",m.top="0",m.left="0",m.pointerEvents="none",m.visibility="hidden",m.width="200px",m.height="150px",m.overflow="hidden",i.appendChild(o),document.body.appendChild(i);var U=o.offsetWidth;i.style.overflow="scroll";var j=o.offsetWidth;U===j&&(j=i.clientWidth),document.body.removeChild(i),g=U-j}return g}function I(r){var o=r.match(/^(.*)px$/),i=Number(o==null?void 0:o[1]);return Number.isNaN(i)?M():i}function x(r){if(typeof document=="undefined"||!r||!(r instanceof Element))return{width:0,height:0};var o=getComputedStyle(r,"::-webkit-scrollbar"),i=o.width,m=o.height;return{width:I(i),height:I(m)}}},70183:function(W,N){"use strict";function t(g){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!g)return{};var I=M.element,x=I===void 0?document.body:I,r={},o=Object.keys(g);return o.forEach(function(i){r[i]=x.style[i]}),o.forEach(function(i){x.style[i]=g[i]}),r}N.Z=t}}]);
