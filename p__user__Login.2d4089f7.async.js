(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[531],{99165:function(M,p,e){"use strict";e.d(p,{Z:function(){return w}});var l=e(67294),u={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2L263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z"}}]},name:"copy",theme:"outlined"},i=u,s=e(27029),v=function(h,m){return l.createElement(s.Z,Object.assign({},h,{ref:m,icon:i}))};v.displayName="CopyOutlined";var w=l.forwardRef(v)},57254:function(M,p,e){"use strict";e.d(p,{Z:function(){return w}});var l=e(67294),u={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z"}}]},name:"down",theme:"outlined"},i=u,s=e(27029),v=function(h,m){return l.createElement(s.Z,Object.assign({},h,{ref:m,icon:i}))};v.displayName="DownOutlined";var w=l.forwardRef(v)},49101:function(M,p,e){"use strict";e.d(p,{Z:function(){return w}});var l=e(67294),u={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8z"}},{tag:"path",attrs:{d:"M176 474h672q8 0 8 8v60q0 8-8 8H176q-8 0-8-8v-60q0-8 8-8z"}}]},name:"plus",theme:"outlined"},i=u,s=e(27029),v=function(h,m){return l.createElement(s.Z,Object.assign({},h,{ref:m,icon:i}))};v.displayName="PlusOutlined";var w=l.forwardRef(v)},68408:function(M){M.exports={container:"container___1sYa-",lang:"lang___l6cji",content:"content___2zk1-",top:"top___1C1Zi",header:"header___5xZ3f",logo:"logo___2hXsy",title:"title___1-xuF",desc:"desc___-njyT",main:"main___x4OjT",icon:"icon___rzGKO",other:"other___lLyaU",register:"register___11Twg",prefixIcon:"prefixIcon___23Xrx"}},7330:function(){},92175:function(M,p,e){"use strict";e.r(p),e.d(p,{default:function(){return ce}});var l=e(34792),u=e(48086),i=e(8870),s=e(3182),v=e(2824),w=e(17462),E=e(94043),h=e.n(E),m=e(67294),Y={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 464h-68V240c0-70.7-57.3-128-128-128H388c-70.7 0-128 57.3-128 128v224h-68c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V496c0-17.7-14.3-32-32-32zM332 240c0-30.9 25.1-56 56-56h248c30.9 0 56 25.1 56 56v224H332V240zm460 600H232V536h560v304zM484 701v53c0 4.4 3.6 8 8 8h40c4.4 0 8-3.6 8-8v-53a48.01 48.01 0 10-56 0z"}}]},name:"lock",theme:"outlined"},J=Y,Q=e(27029),B=function(n,r){return m.createElement(Q.Z,Object.assign({},n,{ref:r,icon:J}))};B.displayName="LockOutlined";var _=m.forwardRef(B),k=e(89366),U=e(88757),A=e(64893),q=["fieldProps","proFieldProps"];function T(){return T=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},T.apply(this,arguments)}function H(t,n){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);n&&(a=a.filter(function(c){return Object.getOwnPropertyDescriptor(t,c).enumerable})),r.push.apply(r,a)}return r}function V(t){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?H(Object(r),!0).forEach(function(a){ee(t,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):H(Object(r)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(r,a))})}return t}function ee(t,n,r){return n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t}function te(t,n){if(t==null)return{};var r=ne(t,n),a,c;if(Object.getOwnPropertySymbols){var g=Object.getOwnPropertySymbols(t);for(c=0;c<g.length;c++)a=g[c],!(n.indexOf(a)>=0)&&(!Object.prototype.propertyIsEnumerable.call(t,a)||(r[a]=t[a]))}return r}function ne(t,n){if(t==null)return{};var r={},a=Object.keys(t),c,g;for(g=0;g<a.length;g++)c=a[g],!(n.indexOf(c)>=0)&&(r[c]=t[c]);return r}var N="text",re=(0,A.Z)(function(t){var n=t.fieldProps,r=t.proFieldProps,a=te(t,q);return m.createElement(U.ZP,T({mode:"edit",valueType:N,fieldProps:V(V({},n),{},{onChange:function(){for(var g,b,D=arguments.length,I=new Array(D),L=0;L<D;L++)I[L]=arguments[L];n==null||(g=n.onChange)===null||g===void 0||g.call.apply(g,[n].concat(I)),a==null||(b=a.onChange)===null||b===void 0||b.call.apply(b,[a].concat(I))}})},r))},{valueType:N}),ae=(0,A.Z)(function(t){var n=t.fieldProps,r=t.proFieldProps;return m.createElement(U.ZP,T({mode:"edit",valueType:"password",fieldProps:n},r))},{valueType:N}),R=re;R.Password=ae;var W=R,se=e(15196),j=e(97363),oe=e(73727),ie=e(36571),le=e(68408),O=e.n(le),o=e(85893),pe=function(n){var r=n.content;return _jsx(_Alert,{style:{marginBottom:24},message:r,type:"error",showIcon:!0})},ue=function(){var n=(0,m.useState)(!1),r=(0,v.Z)(n,2),a=r[0],c=r[1],g=(0,m.useState)({}),b=(0,v.Z)(g,2),D=b[0],I=b[1],L=(0,m.useState)("account"),K=(0,v.Z)(L,2),de=K[0],me=K[1],$=(0,j.tT)("@@initialState"),F=$.initialState,fe=$.setInitialState,Z=(0,j.YB)(),ve=function(){var C=(0,s.Z)(h().mark(function x(){var y,d;return h().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return P.next=2,F==null||(y=F.fetchUserInfo)===null||y===void 0?void 0:y.call(F);case 2:if(d=P.sent,!d){P.next=6;break}return P.next=6,fe(function(z){return(0,i.Z)((0,i.Z)({},z),{},{currentUser:d})});case 6:case"end":return P.stop()}},x)}));return function(){return C.apply(this,arguments)}}(),ge=function(){var C=(0,s.Z)(h().mark(function x(y){var d,S,P,z,G,X;return h().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return c(!0),f.prev=1,f.next=4,(0,ie.x4)((0,i.Z)((0,i.Z)({},y),{},{type:de}));case 4:if(d=f.sent,console.log(d),console.log(d.access),console.log(d.refresh),console.log(d.id),localStorage.setItem("access_token",d.access),localStorage.setItem("refresh_token",d.refresh),localStorage.setItem("user_id",d.id),d.status!=="ok"){f.next=23;break}return S=Z.formatMessage({id:"pages.login.success",defaultMessage:"\u767B\u5F55\u6210\u529F\uFF01"}),u.default.success(S),f.next=17,ve();case 17:if(j.m8){f.next=19;break}return f.abrupt("return");case 19:return P=j.m8.location.query,z=P,G=z.redirect,j.m8.push(G||"/"),f.abrupt("return");case 23:I(d),f.next=30;break;case 26:f.prev=26,f.t0=f.catch(1),X=Z.formatMessage({id:"pages.login.failure",defaultMessage:"\u767B\u5F55\u5931\u8D25\uFF0C\u8BF7\u91CD\u8BD5\uFF01"}),u.default.error(X);case 30:c(!1);case 31:case"end":return f.stop()}},x,null,[[1,26]])}));return function(y){return C.apply(this,arguments)}}(),he=D.status,Oe=D.type;return(0,o.jsxs)("div",{className:O().container,children:[(0,o.jsx)("div",{className:O().lang,"data-lang":!0,children:j.pD&&(0,o.jsx)(j.pD,{})}),(0,o.jsxs)("div",{className:O().content,children:[(0,o.jsxs)("div",{className:O().top,children:[(0,o.jsx)("div",{className:O().header,children:(0,o.jsxs)(oe.rU,{to:"/",children:[(0,o.jsx)("img",{alt:"logo",className:O().logo,src:"/logo.svg"}),(0,o.jsx)("span",{className:O().title,children:"React"})]})}),(0,o.jsx)("div",{className:O().desc,children:Z.formatMessage({id:"pages.layouts.userLayout.title"})})]}),(0,o.jsx)("div",{className:O().main,children:(0,o.jsx)(se.ZP,{initialValues:{autoLogin:!0},submitter:{searchConfig:{submitText:Z.formatMessage({id:"pages.login.submit",defaultMessage:"\u767B\u5F55"})},render:function(x,y){return y.pop()},submitButtonProps:{loading:a,size:"large",style:{width:"100%"}}},onFinish:function(){var C=(0,s.Z)(h().mark(function x(y){return h().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:ge(y);case 1:case"end":return S.stop()}},x)}));return function(x){return C.apply(this,arguments)}}(),children:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(W,{name:"user_name",fieldProps:{size:"large",prefix:(0,o.jsx)(k.Z,{className:O().prefixIcon})},placeholder:Z.formatMessage({id:"pages.login.username.placeholder",defaultMessage:"\u7528\u6237\u540D: guest"}),rules:[{required:!0,message:(0,o.jsx)(j._H,{id:"pages.login.username.required",defaultMessage:"\u8BF7\u8F93\u5165\u7528\u6237\u540D!"})}]}),(0,o.jsx)(W.Password,{name:"password",fieldProps:{size:"large",prefix:(0,o.jsx)(_,{className:O().prefixIcon})},placeholder:Z.formatMessage({id:"pages.login.password.placeholder",defaultMessage:"\u5BC6\u7801: guest"}),rules:[{required:!0,message:(0,o.jsx)(j._H,{id:"pages.login.password.required",defaultMessage:"\u8BF7\u8F93\u5165\u5BC6\u7801\uFF01"})}]})]})})})]})]})},ce=ue},5467:function(M,p,e){"use strict";e.d(p,{Z:function(){return l}});function l(u){return Object.keys(u).reduce(function(i,s){return(s.substr(0,5)==="data-"||s.substr(0,5)==="aria-"||s==="role")&&s.substr(0,7)!=="data-__"&&(i[s]=u[s]),i},{})}},17462:function(M,p,e){"use strict";var l=e(43673),u=e.n(l),i=e(7330),s=e.n(i)},97435:function(M,p){"use strict";function e(l,u){for(var i=Object.assign({},l),s=0;s<u.length;s+=1){var v=u[s];delete i[v]}return i}p.Z=e}}]);
