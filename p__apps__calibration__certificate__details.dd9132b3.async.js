(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[223],{21813:function(B){B.exports={standardList:"standardList___15dvZ",headerInfo:"headerInfo___2UjMI",listContent:"listContent___3P9oR",listContentItem:"listContentItem___2XB2X",extraContentSearch:"extraContentSearch___ye7w6",listCard:"listCard___32_Cq",standardListForm:"standardListForm___AY1Cw",formResult:"formResult___2YPn6",listItemMetaTitle:"listItemMetaTitle___2ooQk",listItemExtra:"listItemExtra___FX3UR",selfTrigger:"selfTrigger___3-287",activitiesList:"activitiesList___1K_NH",username:"username___2Spc0",event:"event___1RC9Q",pageHeaderContent:"pageHeaderContent___1h5Sz",avatar:"avatar___1RUNU",content:"content___1g9gn",contentTitle:"contentTitle___nCmUH",extraContent:"extraContent___Ikiwk",statItem:"statItem___18iyT",members:"members___1kUEm",member:"member___1lEil",projectList:"projectList___3dm_2",cardTitle:"cardTitle___3p4ce",projectGrid:"projectGrid___1p_7a",projectItemContent:"projectItemContent___2gIkI",datetime:"datetime___2lR95",activeCard:"activeCard___1qRni",headerList:"headerList___1Z35I",stepDescription:"stepDescription___39kzL"}},51315:function(B,R,t){"use strict";t.r(R),t.d(R,{ToDoList:function(){return N},default:function(){return et}});var mt=t(95300),P=t(7277),vt=t(98858),f=t(4914),l=t(8870),ft=t(59250),p=t(13013),ht=t(30887),T=t(99210),Ct=t(71194),U=t(57016),j=t(2824),d=t(67294),z=t(64335),Q=t(81907),V=t(57254),X=t(97363),xt=t(57106),$=t(99683),jt=t(57663),G=t(71577),Ft=t(9715),S=t(82482),Zt=t(47673),Y=t(4107),J=t(30381),K=t.n(J),W=t(21813),c=t.n(W),e=t(85893),k=Y.Z.TextArea,w={labelCol:{span:7},wrapperCol:{span:13}},q=function(r){var m=S.Z.useForm(),O=(0,j.Z)(m,1),s=O[0],u=r.done,Z=r.visible,i=r.current,g=r.onDone,E=r.onCancel,I=r.onSubmit;(0,d.useEffect)(function(){s&&!Z&&s.resetFields()},[r.visible]),(0,d.useEffect)(function(){i&&s.setFieldsValue((0,l.Z)((0,l.Z)({},i),{},{createdAt:i.createdAt?K()(i.createdAt):null}))},[r.current]);var y=function(){!s||s.submit()},L=function(C){I&&I(C)},v=u?{footer:null,onCancel:g}:{okText:"\u4FDD\u5B58",onOk:y,onCancel:E},M=function(){return u?(0,e.jsx)($.ZP,{status:"success",title:"\u64CD\u4F5C\u6210\u529F",subTitle:"\u4E00\u7CFB\u5217\u7684\u4FE1\u606F\u63CF\u8FF0\uFF0C\u5F88\u77ED\u540C\u6837\u4E5F\u53EF\u4EE5\u5E26\u6807\u70B9\u3002",extra:(0,e.jsx)(G.Z,{type:"primary",onClick:g,children:"\u77E5\u9053\u4E86"}),className:c().formResult}):(0,e.jsx)(S.Z,(0,l.Z)((0,l.Z)({},w),{},{form:s,onFinish:L,children:(0,e.jsx)(S.Z.Item,{name:"content",label:"content",rules:[{message:"\u8BF7\u8F93\u5165\u81F3\u5C11\u4E94\u4E2A\u5B57\u7B26\u7684\u4EA7\u54C1\u63CF\u8FF0\uFF01",min:5}],children:(0,e.jsx)(k,{rows:4,placeholder:"\u8BF7\u8F93\u5165\u81F3\u5C11\u4E94\u4E2A\u5B57\u7B26"})})}))};return(0,e.jsx)(U.Z,(0,l.Z)((0,l.Z)({title:u?null:"".concat(i?"Edit":"Write"," a commment..."),className:c().standardListForm,width:640,destroyOnClose:!0,visible:Z},v),{},{children:M()}))},_=q,tt=t(73935),N=function(r){var m=(0,d.useRef)(null),O=r.loading,s=r.dispatch,u=r.todo3list.todoMList,Z=(0,d.useState)(!1),i=(0,j.Z)(Z,2),g=i[0],E=i[1],I=(0,d.useState)(!1),y=(0,j.Z)(I,2),L=y[0],v=y[1],M=(0,d.useState)(void 0),h=(0,j.Z)(M,2),C=h[0],H=h[1];(0,d.useEffect)(function(){s({type:"todo3list/fetch",payload:{}})},[1]);var gt=function(){v(!0),H(void 0)},nt=function(n){v(!0),H(n)},at=function(n){s({type:"todo3list/submit",payload:{id:n}})},rt=function(n,a){n==="edit"?nt(a):n==="delete"&&U.Z.confirm({title:"\u5220\u9664\u4EFB\u52A1",content:"\u786E\u5B9A\u5220\u9664\u8BE5\u4EFB\u52A1\u5417\uFF1F",okText:"\u786E\u8BA4",cancelText:"\u53D6\u6D88",onOk:function(){return at(a.id)}})},Et=function(n){var a=n.item;return(0,e.jsx)(p.Z,{overlay:(0,e.jsxs)(T.Z,{onClick:function(b){var A=b.key;return rt(A,a)},children:[(0,e.jsx)(T.Z.Item,{children:"\u7F16\u8F91"},"edit"),(0,e.jsx)(T.Z.Item,{children:"\u5220\u9664"},"delete")]}),children:(0,e.jsxs)("a",{children:["\u66F4\u591A ",(0,e.jsx)(V.Z,{})]})})},D=function(){if(m.current){var n=(0,tt.findDOMNode)(m.current);setTimeout(function(){return n.blur()},0)}},ot=function(){D(),E(!1),v(!1)},st=function(){D(),v(!1)},it=function(n){var a=localStorage.getItem("topic_id"),x=C?C.id:a;D(),E(!0),s({type:"todo3list/submit",payload:(0,l.Z)({id:x},n)})},It={showSizeChanger:!0,showQuickJumper:!0,pageSize:5},lt=function(n){var a=n.currentUser2,x=a.user?a.user.user_name:a.user;return(0,e.jsx)(z.Z.Consumer,{children:function(A){var ct=A.isMobile;return(0,e.jsxs)(f.Z,{className:c().headerList,size:"small",column:ct?1:2,children:[(0,e.jsx)(f.Z.Item,{label:"Author",children:x}),(0,e.jsx)(f.Z.Item,{label:"Forum",children:a.forum}),(0,e.jsx)(f.Z.Item,{label:"Created",children:a.created}),(0,e.jsx)(f.Z.Item,{label:"Updated",children:a.updated})]})}})},dt=function(n){var a=n.currentTitle;return(0,e.jsx)("div",{children:a.name})},ut=function(n){var a=n.currentExtra;return(0,e.jsxs)("div",{className:c().extraContent,children:[(0,e.jsx)("div",{className:c().statItem,children:(0,e.jsx)(P.Z,{title:"Comment",value:a.post_count})}),(0,e.jsx)("div",{className:c().statItem,children:(0,e.jsx)(P.Z,{title:"View",value:a.views})})]})};return(0,e.jsxs)("div",{children:[(0,e.jsx)(Q.ZP,{title:(0,e.jsx)(dt,{currentTitle:u}),content:(0,e.jsx)(lt,{currentUser2:u}),extraContent:(0,e.jsx)(ut,{currentExtra:u})}),(0,e.jsx)(_,{done:g,current:C,visible:L,onDone:ot,onCancel:st,onSubmit:it})]})},et=(0,X.$j)(function(F){var r=F.todo3list,m=F.loading;return{todo3list:r,loading:m.models.todo3list}})(N)}}]);
