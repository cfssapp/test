(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[900],{82844:function(U){U.exports={listContent:"listContent___1x3nG",description:"description___3rQp7",extra:"extra___15ilX"}},75783:function(U){U.exports={standardList:"standardList___12M5M",headerInfo:"headerInfo___3iLzK",listContent:"listContent___1_Cvn",listContentItem:"listContentItem___fvw6z",extraContentSearch:"extraContentSearch___2w4WU",listCard:"listCard___23sqt",standardListForm:"standardListForm___2zy7M",formResult:"formResult___19zr2",listItemMetaTitle:"listItemMetaTitle___34CGT",listItemExtra:"listItemExtra___3vhXh",selfTrigger:"selfTrigger___pplx0",activitiesList:"activitiesList___2buVg",username:"username___1LZL5",event:"event___1zLE0",pageHeaderContent:"pageHeaderContent___1V-0T",avatar:"avatar___SEx8Z",content:"content___3C83U",contentTitle:"contentTitle___eOYxA",extraContent:"extraContent___1gxOE",statItem:"statItem___2aNoO",members:"members___3CjDC",member:"member___1-70y",projectList:"projectList___3UyQd",cardTitle:"cardTitle___1htJM",projectGrid:"projectGrid___M6Vnx",projectItemContent:"projectItemContent___P0j61",datetime:"datetime___1pjFN",activeCard:"activeCard___-tAuo",headerList:"headerList___uOHzJ",stepDescription:"stepDescription___1X6AT"}},19422:function(){},61729:function(U,V,t){"use strict";t.r(V),t.d(V,{ToDoList:function(){return A},default:function(){return y}});var N=t(58024),k=t(39144),G=t(54421),l=t(38272),ft=t(57663),T=t(71577),xt=t(95300),O=t(7277),Ct=t(98858),R=t(4914),c=t(8870),J=t(59250),ot=t(13013),q=t(30887),B=t(99210),ht=t(71194),_=t(57016),W=t(2824),P=t(67294),it=t(64335),Q=t(67265),tt=t(57254),ct=t(49101),et=t(97363),yt=t(57106),nt=t(99683),Et=t(9715),a=t(82482),n=t(47673),r=t(4107),o=t(30381),m=t.n(o),d=t(75783),s=t.n(d),e=t(85893),Z=r.Z.TextArea,g={labelCol:{span:7},wrapperCol:{span:13}},h=function(i){var f=a.Z.useForm(),I=(0,W.Z)(f,1),C=I[0],p=i.done,L=i.visible,E=i.current,at=i.onDone,lt=i.onCancel,rt=i.onSubmit;(0,P.useEffect)(function(){C&&!L&&C.resetFields()},[i.visible]),(0,P.useEffect)(function(){E&&C.setFieldsValue((0,c.Z)((0,c.Z)({},E),{},{createdAt:E.createdAt?m()(E.createdAt):null}))},[i.current]);var st=function(){!C||C.submit()},dt=function(Y){rt&&rt(Y)},K=p?{footer:null,onCancel:at}:{okText:"\u4FDD\u5B58",onOk:st,onCancel:lt},ut=function(){return p?(0,e.jsx)(nt.ZP,{status:"success",title:"\u64CD\u4F5C\u6210\u529F",subTitle:"\u4E00\u7CFB\u5217\u7684\u4FE1\u606F\u63CF\u8FF0\uFF0C\u5F88\u77ED\u540C\u6837\u4E5F\u53EF\u4EE5\u5E26\u6807\u70B9\u3002",extra:(0,e.jsx)(T.Z,{type:"primary",onClick:at,children:"\u77E5\u9053\u4E86"}),className:s().formResult}):(0,e.jsx)(a.Z,(0,c.Z)((0,c.Z)({},g),{},{form:C,onFinish:dt,children:(0,e.jsx)(a.Z.Item,{name:"content",label:"content",rules:[{message:"\u8BF7\u8F93\u5165\u81F3\u5C11\u4E94\u4E2A\u5B57\u7B26\u7684\u4EA7\u54C1\u63CF\u8FF0\uFF01",min:5}],children:(0,e.jsx)(Z,{rows:4,placeholder:"\u8BF7\u8F93\u5165\u81F3\u5C11\u4E94\u4E2A\u5B57\u7B26"})})}))};return(0,e.jsx)(_.Z,(0,c.Z)((0,c.Z)({title:p?null:"".concat(E?"Edit":"Write"," a commment..."),className:s().standardListForm,width:640,destroyOnClose:!0,visible:L},K),{},{children:ut()}))},j=h,D=t(73935),M=t(94233),v=t(51890),H=t(82844),b=t.n(H),z=function(i){var f=i.data,I=f.content,C=f.name,p=f.created,L=f.user,E=f.href;return(0,e.jsxs)("div",{className:b().listContent,children:[(0,e.jsx)("div",{className:b().description,children:I}),(0,e.jsxs)("div",{className:b().extra,children:[(0,e.jsx)(v.C,{src:L.avatar,size:"small"}),(0,e.jsx)("a",{href:E,children:L.user_name}),(0,e.jsx)("em",{children:p})]})]})},$=z,A=function(i){var f=(0,P.useRef)(null),I=i.loading,C=i.dispatch,p=i.todo2list.todoMList,L=(0,P.useState)(!1),E=(0,W.Z)(L,2),at=E[0],lt=E[1],rt=(0,P.useState)(!1),st=(0,W.Z)(rt,2),dt=st[0],K=st[1],ut=(0,P.useState)(void 0),X=(0,W.Z)(ut,2),Y=X[0],Zt=X[1];(0,P.useEffect)(function(){C({type:"todo2list/fetch",payload:{}})},[1]);var pt=function(){K(!0),Zt(void 0)},St=function(u){K(!0),Zt(u)},gt=function(u){C({type:"todo2list/submit",payload:{id:u}})},Lt=function(u,x){u==="edit"?St(x):u==="delete"&&_.Z.confirm({title:"\u5220\u9664\u4EFB\u52A1",content:"\u786E\u5B9A\u5220\u9664\u8BE5\u4EFB\u52A1\u5417\uFF1F",okText:"\u786E\u8BA4",cancelText:"\u53D6\u6D88",onOk:function(){return gt(x.id)}})},At=function(u){var x=u.item;return(0,e.jsx)(ot.Z,{overlay:(0,e.jsxs)(B.Z,{onClick:function(jt){var vt=jt.key;return Lt(vt,x)},children:[(0,e.jsx)(B.Z.Item,{children:"\u7F16\u8F91"},"edit"),(0,e.jsx)(B.Z.Item,{children:"\u5220\u9664"},"delete")]}),children:(0,e.jsxs)("a",{children:["\u66F4\u591A ",(0,e.jsx)(tt.Z,{})]})})},mt=function(){if(f.current){var u=(0,D.findDOMNode)(f.current);setTimeout(function(){return u.blur()},0)}},Ft=function(){mt(),lt(!1),K(!1)},It=function(){mt(),K(!1)},Nt=function(u){var x=localStorage.getItem("topic_id"),w=Y?Y.id:x;mt(),lt(!0),C({type:"todo2list/submit",payload:(0,c.Z)({id:w},u)})},Pt={showSizeChanger:!0,showQuickJumper:!0,pageSize:5},Mt=function(u){var x=u.currentUser2,w=x.user?x.user.user_name:x.user;return(0,e.jsx)(it.Z.Consumer,{children:function(vt){var bt=vt.isMobile;return(0,e.jsxs)(R.Z,{className:s().headerList,size:"small",column:bt?1:2,children:[(0,e.jsx)(R.Z.Item,{label:"Author",children:w}),(0,e.jsx)(R.Z.Item,{label:"Forum",children:x.forum}),(0,e.jsx)(R.Z.Item,{label:"Created",children:x.created}),(0,e.jsx)(R.Z.Item,{label:"Updated",children:x.updated})]})}})},Tt=function(u){var x=u.currentTitle;return(0,e.jsx)("div",{children:x.name})},Dt=function(u){var x=u.currentExtra;return(0,e.jsxs)("div",{className:s().extraContent,children:[(0,e.jsx)("div",{className:s().statItem,children:(0,e.jsx)(O.Z,{title:"Comment",value:x.post_count})}),(0,e.jsx)("div",{className:s().statItem,children:(0,e.jsx)(O.Z,{title:"View",value:x.views})})]})};return(0,e.jsxs)("div",{children:[(0,e.jsx)(Q.ZP,{title:(0,e.jsx)(Tt,{currentTitle:p}),content:(0,e.jsx)(Mt,{currentUser2:p}),extraContent:(0,e.jsx)(Dt,{currentExtra:p}),children:(0,e.jsxs)(k.Z,{children:[(0,e.jsxs)(T.Z,{type:"dashed",style:{width:"100%",marginBottom:8},onClick:pt,ref:f,children:[(0,e.jsx)(ct.Z,{}),"Write a commment..."]}),(0,e.jsx)(l.ZP,{size:"large",loading:I,pagination:Pt,rowKey:"id",itemLayout:"vertical",dataSource:p.posts,renderItem:function(u){return(0,e.jsxs)(l.ZP.Item,{extra:(0,e.jsx)("div",{className:s().listItemExtra}),children:[(0,e.jsx)(l.ZP.Item.Meta,{}),(0,e.jsx)($,{data:u})]},u.id)}})]})}),(0,e.jsx)(j,{done:at,current:Y,visible:dt,onDone:Ft,onCancel:It,onSubmit:Nt})]})},y=(0,et.$j)(function(F){var i=F.todo2list,f=F.loading;return{todo2list:i,loading:f.models.todo2list}})(A)},4914:function(U,V,t){"use strict";t.d(V,{K:function(){return Q},Z:function(){return Et}});var N=t(96156),k=t(28481),G=t(90484),l=t(67294),ft=t(94184),T=t.n(ft),xt=t(50344),O=t(24308),Ct=t(21687),R=t(65632),c=t(22122);function J(a){return a!=null}var ot=function(n){var r=n.itemPrefixCls,o=n.component,m=n.span,d=n.className,s=n.style,e=n.labelStyle,Z=n.contentStyle,g=n.bordered,h=n.label,j=n.content,D=n.colon,M=o;if(g){var v;return l.createElement(M,{className:T()((v={},(0,N.Z)(v,"".concat(r,"-item-label"),J(h)),(0,N.Z)(v,"".concat(r,"-item-content"),J(j)),v),d),style:s,colSpan:m},J(h)&&l.createElement("span",{style:e},h),J(j)&&l.createElement("span",{style:Z},j))}return l.createElement(M,{className:T()("".concat(r,"-item"),d),style:s,colSpan:m},l.createElement("div",{className:"".concat(r,"-item-container")},h&&l.createElement("span",{className:T()("".concat(r,"-item-label"),(0,N.Z)({},"".concat(r,"-item-no-colon"),!D)),style:e},h),j&&l.createElement("span",{className:T()("".concat(r,"-item-content")),style:Z},j)))},q=ot;function B(a,n,r){var o=n.colon,m=n.prefixCls,d=n.bordered,s=r.component,e=r.type,Z=r.showLabel,g=r.showContent,h=r.labelStyle,j=r.contentStyle;return a.map(function(D,M){var v=D.props,H=v.label,b=v.children,z=v.prefixCls,$=z===void 0?m:z,A=v.className,y=v.style,F=v.labelStyle,i=v.contentStyle,f=v.span,I=f===void 0?1:f,C=D.key;return typeof s=="string"?l.createElement(q,{key:"".concat(e,"-").concat(C||M),className:A,style:y,labelStyle:(0,c.Z)((0,c.Z)({},h),F),contentStyle:(0,c.Z)((0,c.Z)({},j),i),span:I,colon:o,component:s,itemPrefixCls:$,bordered:d,label:Z?H:null,content:g?b:null}):[l.createElement(q,{key:"label-".concat(C||M),className:A,style:(0,c.Z)((0,c.Z)((0,c.Z)({},h),y),F),span:1,colon:o,component:s[0],itemPrefixCls:$,bordered:d,label:H}),l.createElement(q,{key:"content-".concat(C||M),className:A,style:(0,c.Z)((0,c.Z)((0,c.Z)({},j),y),i),span:I*2-1,component:s[1],itemPrefixCls:$,bordered:d,content:b})]})}var ht=function(n){var r=l.useContext(Q),o=n.prefixCls,m=n.vertical,d=n.row,s=n.index,e=n.bordered;return m?l.createElement(l.Fragment,null,l.createElement("tr",{key:"label-".concat(s),className:"".concat(o,"-row")},B(d,n,(0,c.Z)({component:"th",type:"label",showLabel:!0},r))),l.createElement("tr",{key:"content-".concat(s),className:"".concat(o,"-row")},B(d,n,(0,c.Z)({component:"td",type:"content",showContent:!0},r)))):l.createElement("tr",{key:s,className:"".concat(o,"-row")},B(d,n,(0,c.Z)({component:e?["th","td"]:"td",type:"item",showLabel:!0,showContent:!0},r)))},_=ht,W=function(n){var r=n.children;return r},P=W,it=t(96159),Q=l.createContext({}),tt={xxl:3,xl:3,lg:3,md:3,sm:2,xs:1};function ct(a,n){if(typeof a=="number")return a;if((0,G.Z)(a)==="object")for(var r=0;r<O.c4.length;r++){var o=O.c4[r];if(n[o]&&a[o]!==void 0)return a[o]||tt[o]}return 3}function et(a,n,r){var o=a;return(n===void 0||n>r)&&(o=(0,it.Tm)(a,{span:r}),(0,Ct.Z)(n===void 0,"Descriptions","Sum of column `span` in a line not match `column` of Descriptions.")),o}function yt(a,n){var r=(0,xt.Z)(a).filter(function(s){return s}),o=[],m=[],d=n;return r.forEach(function(s,e){var Z,g=(Z=s.props)===null||Z===void 0?void 0:Z.span,h=g||1;if(e===r.length-1){m.push(et(s,g,d)),o.push(m);return}h<d?(d-=h,m.push(s)):(m.push(et(s,h,d)),o.push(m),d=n,m=[])}),o}function nt(a){var n,r=a.prefixCls,o=a.title,m=a.extra,d=a.column,s=d===void 0?tt:d,e=a.colon,Z=e===void 0?!0:e,g=a.bordered,h=a.layout,j=a.children,D=a.className,M=a.style,v=a.size,H=a.labelStyle,b=a.contentStyle,z=l.useContext(R.E_),$=z.getPrefixCls,A=z.direction,y=$("descriptions",r),F=l.useState({}),i=(0,k.Z)(F,2),f=i[0],I=i[1],C=ct(s,f);l.useEffect(function(){var L=O.ZP.subscribe(function(E){(0,G.Z)(s)==="object"&&I(E)});return function(){O.ZP.unsubscribe(L)}},[]);var p=yt(j,C);return l.createElement(Q.Provider,{value:{labelStyle:H,contentStyle:b}},l.createElement("div",{className:T()(y,(n={},(0,N.Z)(n,"".concat(y,"-").concat(v),v&&v!=="default"),(0,N.Z)(n,"".concat(y,"-bordered"),!!g),(0,N.Z)(n,"".concat(y,"-rtl"),A==="rtl"),n),D),style:M},(o||m)&&l.createElement("div",{className:"".concat(y,"-header")},o&&l.createElement("div",{className:"".concat(y,"-title")},o),m&&l.createElement("div",{className:"".concat(y,"-extra")},m)),l.createElement("div",{className:"".concat(y,"-view")},l.createElement("table",null,l.createElement("tbody",null,p.map(function(L,E){return l.createElement(_,{key:E,index:E,colon:Z,prefixCls:y,vertical:h==="vertical",bordered:g,row:L})}))))))}nt.Item=P;var Et=nt},98858:function(U,V,t){"use strict";var N=t(43673),k=t.n(N),G=t(19422),l=t.n(G)}}]);
