(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[531],{57254:function(S,O,t){"use strict";t.d(O,{Z:function(){return x}});var m=t(67294),v={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z"}}]},name:"down",theme:"outlined"},u=v,g=t(27029),o=function(p,h){return m.createElement(g.Z,Object.assign({},p,{ref:h,icon:u}))};o.displayName="DownOutlined";var x=m.forwardRef(o)},49101:function(S,O,t){"use strict";t.d(O,{Z:function(){return x}});var m=t(67294),v={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8z"}},{tag:"path",attrs:{d:"M176 474h672q8 0 8 8v60q0 8-8 8H176q-8 0-8-8v-60q0-8 8-8z"}}]},name:"plus",theme:"outlined"},u=v,g=t(27029),o=function(p,h){return m.createElement(g.Z,Object.assign({},p,{ref:h,icon:u}))};o.displayName="PlusOutlined";var x=m.forwardRef(o)},5966:function(S,O,t){"use strict";var m=t(67294),v=t(88757),u=t(64893),g=["fieldProps","proFieldProps"];function o(){return o=Object.assign||function(r){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var e in a)Object.prototype.hasOwnProperty.call(a,e)&&(r[e]=a[e])}return r},o.apply(this,arguments)}function x(r,n){var a=Object.keys(r);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(r);n&&(e=e.filter(function(c){return Object.getOwnPropertyDescriptor(r,c).enumerable})),a.push.apply(a,e)}return a}function Z(r){for(var n=1;n<arguments.length;n++){var a=arguments[n]!=null?arguments[n]:{};n%2?x(Object(a),!0).forEach(function(e){p(r,e,a[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(a)):x(Object(a)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(a,e))})}return r}function p(r,n,a){return n in r?Object.defineProperty(r,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):r[n]=a,r}function h(r,n){if(r==null)return{};var a=z(r,n),e,c;if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(r);for(c=0;c<d.length;c++)e=d[c],!(n.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(r,e)||(a[e]=r[e]))}return a}function z(r,n){if(r==null)return{};var a={},e=Object.keys(r),c,d;for(d=0;d<e.length;d++)c=e[d],!(n.indexOf(c)>=0)&&(a[c]=r[c]);return a}var D="text",U=(0,u.Z)(function(r){var n=r.fieldProps,a=r.proFieldProps,e=h(r,g);return m.createElement(v.ZP,o({mode:"edit",valueType:D,fieldProps:Z(Z({},n),{},{onChange:function(){for(var d,w,f=arguments.length,s=new Array(f),T=0;T<f;T++)s[T]=arguments[T];n==null||(d=n.onChange)===null||d===void 0||d.call.apply(d,[n].concat(s)),e==null||(w=e.onChange)===null||w===void 0||w.call.apply(w,[e].concat(s))}})},a))},{valueType:D}),E=(0,u.Z)(function(r){var n=r.fieldProps,a=r.proFieldProps;return m.createElement(v.ZP,o({mode:"edit",valueType:"password",fieldProps:n},a))},{valueType:D}),C=U;C.Password=E,O.Z=C},68408:function(S){S.exports={container:"container___1sYa-",lang:"lang___l6cji",content:"content___2zk1-",top:"top___1C1Zi",header:"header___5xZ3f",logo:"logo___2hXsy",title:"title___1-xuF",desc:"desc___-njyT",main:"main___x4OjT",icon:"icon___rzGKO",other:"other___lLyaU",register:"register___11Twg",prefixIcon:"prefixIcon___23Xrx"}},11816:function(S,O,t){"use strict";t.r(O),t.d(O,{default:function(){return Y}});var m=t(34792),v=t(48086),u=t(8870),g=t(3182),o=t(2824),x=t(17462),Z=t(94043),p=t.n(Z),h=t(67294),z={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 464h-68V240c0-70.7-57.3-128-128-128H388c-70.7 0-128 57.3-128 128v224h-68c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V496c0-17.7-14.3-32-32-32zM332 240c0-30.9 25.1-56 56-56h248c30.9 0 56 25.1 56 56v224H332V240zm460 600H232V536h560v304zM484 701v53c0 4.4 3.6 8 8 8h40c4.4 0 8-3.6 8-8v-53a48.01 48.01 0 10-56 0z"}}]},name:"lock",theme:"outlined"},D=z,U=t(27029),E=function(F,L){return h.createElement(U.Z,Object.assign({},F,{ref:L,icon:D}))};E.displayName="LockOutlined";var C=h.forwardRef(E),r=t(89366),n=t(15196),a=t(5966),e=t(97363),c=t(73727),d=t(36571),w=t(68408),f=t.n(w),s=t(85893),T=function(F){var L=F.content;return _jsx(_Alert,{style:{marginBottom:24},message:L,type:"error",showIcon:!0})},X=function(){var F=(0,h.useState)(!1),L=(0,o.Z)(F,2),J=L[0],R=L[1],Q=(0,h.useState)({}),H=(0,o.Z)(Q,2),V=H[0],k=H[1],q=(0,h.useState)("account"),W=(0,o.Z)(q,2),_=W[0],ne=W[1],$=(0,e.tT)("@@initialState"),N=$.initialState,ee=$.setInitialState,b=(0,e.YB)(),te=function(){var I=(0,g.Z)(p().mark(function j(){var y,i;return p().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return P.next=2,N==null||(y=N.fetchUserInfo)===null||y===void 0?void 0:y.call(N);case 2:if(i=P.sent,!i){P.next=6;break}return P.next=6,ee(function(B){return(0,u.Z)((0,u.Z)({},B),{},{currentUser:i})});case 6:case"end":return P.stop()}},j)}));return function(){return I.apply(this,arguments)}}(),re=function(){var I=(0,g.Z)(p().mark(function j(y){var i,M,P,B,K,G;return p().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return R(!0),l.prev=1,l.next=4,(0,d.x4)((0,u.Z)((0,u.Z)({},y),{},{type:_}));case 4:if(i=l.sent,console.log(i),console.log(i.access),console.log(i.refresh),console.log(i.id),localStorage.setItem("access_token",i.access),localStorage.setItem("refresh_token",i.refresh),localStorage.setItem("user_id",i.id),i.status!=="ok"){l.next=23;break}return M=b.formatMessage({id:"pages.login.success",defaultMessage:"\u767B\u5F55\u6210\u529F\uFF01"}),v.default.success(M),l.next=17,te();case 17:if(e.m8){l.next=19;break}return l.abrupt("return");case 19:return P=e.m8.location.query,B=P,K=B.redirect,e.m8.push(K||"/"),l.abrupt("return");case 23:k(i),l.next=30;break;case 26:l.prev=26,l.t0=l.catch(1),G=b.formatMessage({id:"pages.login.failure",defaultMessage:"\u767B\u5F55\u5931\u8D25\uFF0C\u8BF7\u91CD\u8BD5\uFF01"}),v.default.error(G);case 30:R(!1);case 31:case"end":return l.stop()}},j,null,[[1,26]])}));return function(y){return I.apply(this,arguments)}}(),ae=V.status,se=V.type;return(0,s.jsxs)("div",{className:f().container,children:[(0,s.jsx)("div",{className:f().lang,"data-lang":!0,children:e.pD&&(0,s.jsx)(e.pD,{})}),(0,s.jsxs)("div",{className:f().content,children:[(0,s.jsxs)("div",{className:f().top,children:[(0,s.jsx)("div",{className:f().header,children:(0,s.jsxs)(c.rU,{to:"/",children:[(0,s.jsx)("img",{alt:"logo",className:f().logo,src:"/logo.svg"}),(0,s.jsx)("span",{className:f().title,children:"React"})]})}),(0,s.jsx)("div",{className:f().desc,children:b.formatMessage({id:"pages.layouts.userLayout.title"})})]}),(0,s.jsx)("div",{className:f().main,children:(0,s.jsx)(n.ZP,{initialValues:{autoLogin:!0},submitter:{searchConfig:{submitText:b.formatMessage({id:"pages.login.submit",defaultMessage:"\u767B\u5F55"})},render:function(j,y){return y.pop()},submitButtonProps:{loading:J,size:"large",style:{width:"100%"}}},onFinish:function(){var I=(0,g.Z)(p().mark(function j(y){return p().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:re(y);case 1:case"end":return M.stop()}},j)}));return function(j){return I.apply(this,arguments)}}(),children:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(a.Z,{name:"user_name",fieldProps:{size:"large",prefix:(0,s.jsx)(r.Z,{className:f().prefixIcon})},placeholder:b.formatMessage({id:"pages.login.username.placeholder",defaultMessage:"\u7528\u6237\u540D: guest"}),rules:[{required:!0,message:(0,s.jsx)(e._H,{id:"pages.login.username.required",defaultMessage:"\u8BF7\u8F93\u5165\u7528\u6237\u540D!"})}]}),(0,s.jsx)(a.Z.Password,{name:"password",fieldProps:{size:"large",prefix:(0,s.jsx)(C,{className:f().prefixIcon})},placeholder:b.formatMessage({id:"pages.login.password.placeholder",defaultMessage:"\u5BC6\u7801: guest"}),rules:[{required:!0,message:(0,s.jsx)(e._H,{id:"pages.login.password.required",defaultMessage:"\u8BF7\u8F93\u5165\u5BC6\u7801\uFF01"})}]})]})})})]})]})},Y=X},97435:function(S,O){"use strict";function t(m,v){for(var u=Object.assign({},m),g=0;g<v.length;g+=1){var o=v[g];delete u[o]}return u}O.Z=t}}]);
