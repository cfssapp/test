(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[531],{49101:function(w,j,t){"use strict";t.d(j,{Z:function(){return I}});var x=t(67294),m={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8z"}},{tag:"path",attrs:{d:"M176 474h672q8 0 8 8v60q0 8-8 8H176q-8 0-8-8v-60q0-8 8-8z"}}]},name:"plus",theme:"outlined"},f=m,g=t(27029),d=function(h,v){return x.createElement(g.Z,Object.assign({},h,{ref:v,icon:f}))};d.displayName="PlusOutlined";var I=x.forwardRef(d)},5966:function(w,j,t){"use strict";var x=t(67294),m=t(79403),f=t(64893),g=["fieldProps","proFieldProps"];function d(){return d=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},d.apply(this,arguments)}function I(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(u){return Object.getOwnPropertyDescriptor(e,u).enumerable})),n.push.apply(n,a)}return n}function T(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?I(Object(n),!0).forEach(function(a){h(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function h(e,r,n){return r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function v(e,r){if(e==null)return{};var n=H(e,r),a,u;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(u=0;u<i.length;u++)a=i[u],!(r.indexOf(a)>=0)&&(!Object.prototype.propertyIsEnumerable.call(e,a)||(n[a]=e[a]))}return n}function H(e,r){if(e==null)return{};var n={},a=Object.keys(e),u,i;for(i=0;i<a.length;i++)u=a[i],!(r.indexOf(u)>=0)&&(n[u]=e[u]);return n}var E="text",C=(0,f.Z)(function(e){var r=e.fieldProps,n=e.proFieldProps,a=v(e,g);return x.createElement(m.ZP,d({mode:"edit",valueType:E,fieldProps:T(T({},r),{},{onChange:function(){for(var i,c,N=arguments.length,F=new Array(N),L=0;L<N;L++)F[L]=arguments[L];r==null||(i=r.onChange)===null||i===void 0||i.call.apply(i,[r].concat(F)),a==null||(c=a.onChange)===null||c===void 0||c.call.apply(c,[a].concat(F))}})},n))},{valueType:E}),B=(0,f.Z)(function(e){var r=e.fieldProps,n=e.proFieldProps;return x.createElement(m.ZP,d({mode:"edit",valueType:"password",fieldProps:r},n))},{valueType:E}),D=C;D.Password=B,j.Z=D},68408:function(w){w.exports={container:"container___1sYa-",lang:"lang___l6cji",content:"content___2zk1-",top:"top___1C1Zi",header:"header___5xZ3f",logo:"logo___2hXsy",title:"title___1-xuF",desc:"desc___-njyT",main:"main___x4OjT",icon:"icon___rzGKO",other:"other___lLyaU",register:"register___11Twg",prefixIcon:"prefixIcon___23Xrx"}},2292:function(w,j,t){"use strict";t.r(j),t.d(j,{default:function(){return Q}});var x=t(34792),m=t(48086),f=t(8870),g=t(3182),d=t(2824),I=t(17462),T=t(94043),h=t.n(T),v=t(67294),H={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M858.5 763.6a374 374 0 00-80.6-119.5 375.63 375.63 0 00-119.5-80.6c-.4-.2-.8-.3-1.2-.5C719.5 518 760 444.7 760 362c0-137-111-248-248-248S264 225 264 362c0 82.7 40.5 156 102.8 201.1-.4.2-.8.3-1.2.5-44.8 18.9-85 46-119.5 80.6a375.63 375.63 0 00-80.6 119.5A371.7 371.7 0 00136 901.8a8 8 0 008 8.2h60c4.4 0 7.9-3.5 8-7.8 2-77.2 33-149.5 87.8-204.3 56.7-56.7 132-87.9 212.2-87.9s155.5 31.2 212.2 87.9C779 752.7 810 825 812 902.2c.1 4.4 3.6 7.8 8 7.8h60a8 8 0 008-8.2c-1-47.8-10.9-94.3-29.5-138.2zM512 534c-45.9 0-89.1-17.9-121.6-50.4S340 407.9 340 362c0-45.9 17.9-89.1 50.4-121.6S466.1 190 512 190s89.1 17.9 121.6 50.4S684 316.1 684 362c0 45.9-17.9 89.1-50.4 121.6S557.9 534 512 534z"}}]},name:"user",theme:"outlined"},E=H,C=t(27029),B=function(M,S){return v.createElement(C.Z,Object.assign({},M,{ref:S,icon:E}))};B.displayName="UserOutlined";var D=v.forwardRef(B),e={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 464h-68V240c0-70.7-57.3-128-128-128H388c-70.7 0-128 57.3-128 128v224h-68c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V496c0-17.7-14.3-32-32-32zM332 240c0-30.9 25.1-56 56-56h248c30.9 0 56 25.1 56 56v224H332V240zm460 600H232V536h560v304zM484 701v53c0 4.4 3.6 8 8 8h40c4.4 0 8-3.6 8-8v-53a48.01 48.01 0 10-56 0z"}}]},name:"lock",theme:"outlined"},r=e,n=function(M,S){return v.createElement(C.Z,Object.assign({},M,{ref:S,icon:r}))};n.displayName="LockOutlined";var a=v.forwardRef(n),u=t(15196),i=t(5966),c=t(97363),N=t(73727),F=t(36571),L=t(68408),p=t.n(L),s=t(85893),se=function(M){var S=M.content;return _jsx(_Alert,{style:{marginBottom:24},message:S,type:"error",showIcon:!0})},J=function(){var M=(0,v.useState)(!1),S=(0,d.Z)(M,2),k=S[0],V=S[1],q=(0,v.useState)({}),W=(0,d.Z)(q,2),$=W[0],_=W[1],ee=(0,v.useState)("account"),K=(0,d.Z)(ee,2),te=K[0],ie=K[1],G=(0,c.tT)("@@initialState"),z=G.initialState,re=G.setInitialState,U=(0,c.YB)(),ne=function(){var Z=(0,g.Z)(h().mark(function y(){var O,l;return h().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return P.next=2,z==null||(O=z.fetchUserInfo)===null||O===void 0?void 0:O.call(z);case 2:if(l=P.sent,!l){P.next=6;break}return P.next=6,re(function(A){return(0,f.Z)((0,f.Z)({},A),{},{currentUser:l})});case 6:case"end":return P.stop()}},y)}));return function(){return Z.apply(this,arguments)}}(),ae=function(){var Z=(0,g.Z)(h().mark(function y(O){var l,b,P,A,X,Y;return h().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return V(!0),o.prev=1,o.next=4,(0,F.x4)((0,f.Z)((0,f.Z)({},O),{},{type:te}));case 4:if(l=o.sent,console.log(l),console.log(l.access),console.log(l.refresh),console.log(l.id),localStorage.setItem("access_token",l.access),localStorage.setItem("refresh_token",l.refresh),localStorage.setItem("user_id",l.id),l.status!=="ok"){o.next=23;break}return b=U.formatMessage({id:"pages.login.success",defaultMessage:"\u767B\u5F55\u6210\u529F\uFF01"}),m.default.success(b),o.next=17,ne();case 17:if(c.m8){o.next=19;break}return o.abrupt("return");case 19:return P=c.m8.location.query,A=P,X=A.redirect,c.m8.push(X||"/"),o.abrupt("return");case 23:_(l),o.next=30;break;case 26:o.prev=26,o.t0=o.catch(1),Y=U.formatMessage({id:"pages.login.failure",defaultMessage:"\u767B\u5F55\u5931\u8D25\uFF0C\u8BF7\u91CD\u8BD5\uFF01"}),m.default.error(Y);case 30:V(!1);case 31:case"end":return o.stop()}},y,null,[[1,26]])}));return function(O){return Z.apply(this,arguments)}}(),le=$.status,oe=$.type;return(0,s.jsxs)("div",{className:p().container,children:[(0,s.jsx)("div",{className:p().lang,"data-lang":!0,children:c.pD&&(0,s.jsx)(c.pD,{})}),(0,s.jsxs)("div",{className:p().content,children:[(0,s.jsxs)("div",{className:p().top,children:[(0,s.jsx)("div",{className:p().header,children:(0,s.jsxs)(N.rU,{to:"/",children:[(0,s.jsx)("img",{alt:"logo",className:p().logo,src:"/logo.svg"}),(0,s.jsx)("span",{className:p().title,children:"Admin"})]})}),(0,s.jsx)("div",{id:"demo",className:p().desc})]}),(0,s.jsx)("div",{className:p().main,children:(0,s.jsx)(u.ZP,{initialValues:{autoLogin:!0},submitter:{searchConfig:{submitText:U.formatMessage({id:"pages.login.submit",defaultMessage:"\u767B\u5F55"})},render:function(y,O){return O.pop()},submitButtonProps:{loading:k,size:"large",style:{width:"100%"}}},onFinish:function(){var Z=(0,g.Z)(h().mark(function y(O){return h().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:ae(O);case 1:case"end":return b.stop()}},y)}));return function(y){return Z.apply(this,arguments)}}(),children:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i.Z,{name:"user_name",fieldProps:{size:"large",prefix:(0,s.jsx)(D,{className:p().prefixIcon})},placeholder:U.formatMessage({id:"pages.login.username.placeholder",defaultMessage:"\u7528\u6237\u540D: guest"}),rules:[{required:!0,message:(0,s.jsx)(c._H,{id:"pages.login.username.required",defaultMessage:"\u8BF7\u8F93\u5165\u7528\u6237\u540D!"})}]}),(0,s.jsx)(i.Z.Password,{name:"password",fieldProps:{size:"large",prefix:(0,s.jsx)(a,{className:p().prefixIcon})},placeholder:U.formatMessage({id:"pages.login.password.placeholder",defaultMessage:"\u5BC6\u7801: guest"}),rules:[{required:!0,message:(0,s.jsx)(c._H,{id:"pages.login.password.required",defaultMessage:"\u8BF7\u8F93\u5165\u5BC6\u7801\uFF01"})}]})]})})})]}),(0,s.jsx)("script",{children:'const d = new Date(); document.getElementById("demo").innerHTML = d;'})]})},Q=J},97435:function(w,j){"use strict";function t(x,m){for(var f=Object.assign({},x),g=0;g<m.length;g+=1){var d=m[g];delete f[d]}return f}j.Z=t}}]);
