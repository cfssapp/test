(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[785],{73947:function(Q){Q.exports={listContent:"listContent___3vedS",description:"description___3PN_4",extra:"extra___1NSLt"}},98250:function(Q){Q.exports={standardList:"standardList___kz2pc",headerInfo:"headerInfo___2cRCO",listContent:"listContent___LdtIk",listContentItem:"listContentItem___3NLFa",extraContentSearch:"extraContentSearch___1hRjc",listCard:"listCard___1nD9x",standardListForm:"standardListForm___Aq-Np",formResult:"formResult___2xNbB",listItemMetaTitle:"listItemMetaTitle___2I_Vl",listItemExtra:"listItemExtra___y5uWL",selfTrigger:"selfTrigger___9x7cu",activitiesList:"activitiesList___1qnhj",username:"username___3PmLk",event:"event___27cR9",pageHeaderContent:"pageHeaderContent___1kD8-",avatar:"avatar___1_XIl",content:"content___2OTuT",contentTitle:"contentTitle___1Ifis",extraContent:"extraContent___1AWND",statItem:"statItem___X4Kpk",members:"members___2MGoO",member:"member___17If9",projectList:"projectList___3aP5Q",cardTitle:"cardTitle___9n-it",projectGrid:"projectGrid___2FO9w",projectItemContent:"projectItemContent___2TSFf",datetime:"datetime___1nNWy",activeCard:"activeCard___2O5-J",headerList:"headerList___1unww",stepDescription:"stepDescription___3VOaI"}},2235:function(Q,te,a){"use strict";a.r(te),a.d(te,{Current1Cert:function(){return I},default:function(){return O}});var Le=a(58024),me=a(39144),re=a(54421),k=a(38272),ne=a(57663),ae=a(71577),Be=a(95300),se=a(7277),Ue=a(98858),w=a(4914),Z=a(8870),j=a(2824),R=a(67294),fe=a(64335),he=a(75362),ie=a(49101),ve=a(97363),ge=a(71194),ye=a(57016),Oe=a(43185),Ce=a(94412),Ae=a(57106),pe=a(99683),Se=a(9715),X=a(82482),De=a(47673),le=a(4107),E=a(30381),xe=a.n(E),be=a(98250),W=a.n(be),n=a(84391),t=a(98005),r=a.n(t),e=a(85893),o=le.Z.TextArea,i={labelCol:{span:7},wrapperCol:{span:13}},f=function(s){var C=X.Z.useForm(),M=(0,j.Z)(C,1),T=M[0],A=s.done,P=s.visible,S=s.current,H=s.onDone,G=s.onCancel,$=s.onSubmit;(0,R.useEffect)(function(){T&&!P&&T.resetFields()},[s.visible]),(0,R.useEffect)(function(){S&&T.setFieldsValue((0,Z.Z)((0,Z.Z)({},S),{},{createdAt:S.createdAt?xe()(S.createdAt):null}))},[s.current]);var V=function(){!T||T.submit()},Y=[],K=function(_){$&&(console.log("2. imagevalues: "+Y),_.imagesupload_id=Y,$(_))},je=A?{footer:null,onCancel:H}:{okText:"Save",onOk:V,onCancel:G},ce=function(){if(A)return(0,e.jsx)(pe.ZP,{status:"success",title:"Done",extra:(0,e.jsx)(ae.Z,{type:"primary",onClick:H,children:"Okay"}),className:W().formResult});var _={name:"imagefile",action:"https://antapi.pythonanywhere.com/calibration/comment/image/",beforeUpload:function(F){return new Promise(function(z){var J=(F.size/1024/1024).toFixed(1),ee;if(J<1)ee=1;else if(J<2)ee=.6;else if(J<5)ee=.4;else return new Promise(function(Te,oe){oe({msg:"Image not larger than 10m"})});new(r())(F,{quality:ee,success:function(oe){z(oe)}})})},headers:{Authorization:"JWT "+localStorage.getItem("access_token")},onChange:function(F){var z=F.file,J=F.fileList;z.status!=="uploading"&&(console.log(z,J),console.log(z.response.id),Y.push(z.response.id),console.log("2. imagevalues: "+Y))}};return(0,e.jsxs)(X.Z,(0,Z.Z)((0,Z.Z)({},i),{},{form:T,onFinish:K,children:[(0,e.jsx)(X.Z.Item,{label:"Upload",name:"uploadimages",children:(0,e.jsx)(Ce.Z,(0,Z.Z)((0,Z.Z)({},_),{},{children:(0,e.jsx)(ae.Z,{icon:(0,e.jsx)(n.Z,{}),children:"Click to Upload"})}))}),(0,e.jsx)(X.Z.Item,{name:"content",label:"Content",rules:[{message:"Minimum 5 characters",min:5}],children:(0,e.jsx)(o,{rows:4,placeholder:"Minimum 5 characters"})})]}))};return(0,e.jsx)(ye.Z,(0,Z.Z)((0,Z.Z)({title:A?null:"".concat(S?"Edit":"Write"," a commment..."),className:W().standardListForm,width:640,destroyOnClose:!0,visible:P},je),{},{children:ce()}))},d=f,u=a(73935),c=a(94233),h=a(51890),v=a(49111),x=a(19650),b=a(12968),l=a(62462),p=a(73947),g=a.n(p);function y(m){var s=m.jsonImage,C=s.map(function(M){return(0,e.jsx)(l.Z,{width:50,src:M.imagefile})});return C}function ue(m){var s=m.jsonImage;return s.length===0?null:s.length!==0?(0,e.jsx)(l.Z.PreviewGroup,{children:(0,e.jsx)(x.Z,{size:"middle",children:(0,e.jsx)(y,{jsonImage:s})})}):(0,e.jsx)("h1",{children:"Error."})}var B=function(s){var C=s.data,M=C.content,T=C.name,A=C.created,P=C.user,S=C.href,H=C.image;return(0,e.jsxs)("div",{className:g().listContent,children:[(0,e.jsx)("div",{className:g().description,children:M}),(0,e.jsx)(ue,{jsonImage:H}),(0,e.jsxs)("div",{className:g().extra,children:[(0,e.jsx)(h.C,{src:P.avatar,size:"small"}),(0,e.jsx)("a",{href:S,children:P.user_name}),(0,e.jsx)("em",{children:A})]})]})},U=B,I=function(s){var C=(0,R.useRef)(null),M=s.loading,T=s.dispatch,A=s.Current4Cert.Current5Cert,P=(0,R.useState)(!1),S=(0,j.Z)(P,2),H=S[0],G=S[1],$=(0,R.useState)(!1),V=(0,j.Z)($,2),Y=V[0],K=V[1],je=(0,R.useState)(void 0),ce=(0,j.Z)(je,2),q=ce[0],_=ce[1];(0,R.useEffect)(function(){T({type:"Current4Cert/fetch",payload:{}})},[1]);var Ie=function(){K(!0),_(void 0)},F=function(){if(C.current){var D=(0,u.findDOMNode)(C.current);setTimeout(function(){return D.blur()},0)}},z=function(){F(),G(!1),K(!1)},J=function(){F(),K(!1)},ee=function(D){var L=localStorage.getItem("topic_id"),de=q?q.id:L;F(),G(!0),T({type:"Current4Cert/submit",payload:(0,Z.Z)({id:de},D)})},Te={showSizeChanger:!0,showQuickJumper:!0,pageSize:5},oe=function(D){var L=D.currentUser2,de=L.user?L.user.user_name:L.user;return console.log(de),(0,e.jsx)(fe.Z.Consumer,{children:function(Re){var Ee=Re.isMobile;return(0,e.jsxs)(w.Z,{className:W().headerList,size:"small",column:Ee?1:2,children:[(0,e.jsx)(w.Z.Item,{label:"Author",children:de}),(0,e.jsx)(w.Z.Item,{label:"Customer",children:L.customer}),(0,e.jsx)(w.Z.Item,{label:"Instrument",children:L.instrument}),(0,e.jsx)(w.Z.Item,{label:"Updated",children:L.updated})]})}})},Ze=function(D){var L=D.currentTitle;return(0,e.jsx)("div",{children:L.certificate_id})},Me=function(D){var L=D.currentExtra;return(0,e.jsxs)("div",{className:W().extraContent,children:[(0,e.jsx)("div",{className:W().statItem,children:(0,e.jsx)(se.Z,{title:"Comment",value:L.post_count})}),(0,e.jsx)("div",{className:W().statItem,children:(0,e.jsx)(se.Z,{title:"View",value:L.views})})]})};return(0,e.jsxs)("div",{children:[(0,e.jsx)(he.ZP,{title:(0,e.jsx)(Ze,{currentTitle:A}),content:(0,e.jsx)(oe,{currentUser2:A}),extraContent:(0,e.jsx)(Me,{currentExtra:A}),children:(0,e.jsxs)(me.Z,{children:[(0,e.jsxs)(ae.Z,{type:"dashed",style:{width:"100%",marginBottom:8},onClick:Ie,ref:C,children:[(0,e.jsx)(ie.Z,{}),"Write a commment..."]}),(0,e.jsx)(k.ZP,{size:"large",loading:M,pagination:Te,rowKey:"id",itemLayout:"vertical",dataSource:A.comments,renderItem:function(D){return(0,e.jsxs)(k.ZP.Item,{children:[(0,e.jsx)(k.ZP.Item.Meta,{}),(0,e.jsx)(U,{data:D})]},D.id)}})]})}),(0,e.jsx)(d,{done:H,current:q,visible:Y,onDone:z,onCancel:J,onSubmit:ee})]})},O=(0,ve.$j)(function(m){var s=m.Current4Cert,C=m.loading;return{Current4Cert:s,loading:C.models.Current4Cert}})(I)},98005:function(Q){/*!
 * Compressor.js v1.0.7
 * https://fengyuanchen.github.io/compressorjs
 *
 * Copyright 2018-present Chen Fengyuan
 * Released under the MIT license
 *
 * Date: 2020-11-28T07:13:17.754Z
 */(function(te,a){Q.exports=a()})(this,function(){"use strict";function te(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function a(n,t){for(var r=0;r<t.length;r++){var e=t[r];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(n,e.key,e)}}function Le(n,t,r){return t&&a(n.prototype,t),r&&a(n,r),n}function me(n,t,r){return t in n?Object.defineProperty(n,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[t]=r,n}function re(){return re=Object.assign||function(n){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var e in r)Object.prototype.hasOwnProperty.call(r,e)&&(n[e]=r[e])}return n},re.apply(this,arguments)}function k(n,t){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(n);t&&(e=e.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),r.push.apply(r,e)}return r}function ne(n){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?k(Object(r),!0).forEach(function(e){me(n,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):k(Object(r)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(r,e))})}return n}function ae(n,t,r){return r={path:t,exports:{},require:function(e,o){return Be(e,o==null?r.path:o)}},n(r,r.exports),r.exports}function Be(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var se=ae(function(n){typeof window!="undefined"&&function(t){var r=t.HTMLCanvasElement&&t.HTMLCanvasElement.prototype,e=t.Blob&&function(){try{return Boolean(new Blob)}catch(u){return!1}}(),o=e&&t.Uint8Array&&function(){try{return new Blob([new Uint8Array(100)]).size===100}catch(u){return!1}}(),i=t.BlobBuilder||t.WebKitBlobBuilder||t.MozBlobBuilder||t.MSBlobBuilder,f=/^data:((.*?)(;charset=.*?)?)(;base64)?,/,d=(e||i)&&t.atob&&t.ArrayBuffer&&t.Uint8Array&&function(u){var c,h,v,x,b,l,p,g,y;if(c=u.match(f),!c)throw new Error("invalid data URI");for(h=c[2]?c[1]:"text/plain"+(c[3]||";charset=US-ASCII"),v=!!c[4],x=u.slice(c[0].length),v?b=atob(x):b=decodeURIComponent(x),l=new ArrayBuffer(b.length),p=new Uint8Array(l),g=0;g<b.length;g+=1)p[g]=b.charCodeAt(g);return e?new Blob([o?p:l],{type:h}):(y=new i,y.append(l),y.getBlob(h))};t.HTMLCanvasElement&&!r.toBlob&&(r.mozGetAsFile?r.toBlob=function(u,c,h){var v=this;setTimeout(function(){h&&r.toDataURL&&d?u(d(v.toDataURL(c,h))):u(v.mozGetAsFile("blob",c))})}:r.toDataURL&&d&&(r.msToBlob?r.toBlob=function(u,c,h){var v=this;setTimeout(function(){(c&&c!=="image/png"||h)&&r.toDataURL&&d?u(d(v.toDataURL(c,h))):u(v.msToBlob(c))})}:r.toBlob=function(u,c,h){var v=this;setTimeout(function(){u(d(v.toDataURL(c,h)))})})),n.exports?n.exports=d:t.dataURLtoBlob=d}(window)}),Ue=function(t){return typeof Blob=="undefined"?!1:t instanceof Blob||Object.prototype.toString.call(t)==="[object Blob]"},w={strict:!0,checkOrientation:!0,maxWidth:Infinity,maxHeight:Infinity,minWidth:0,minHeight:0,width:void 0,height:void 0,quality:.8,mimeType:"auto",convertSize:5e6,beforeDraw:null,drew:null,success:null,error:null},Z=typeof window!="undefined"&&typeof window.document!="undefined",j=Z?window:{},R=Array.prototype.slice;function fe(n){return Array.from?Array.from(n):R.call(n)}var he=/^image\/.+$/;function ie(n){return he.test(n)}function ve(n){var t=ie(n)?n.substr(6):"";return t==="jpeg"&&(t="jpg"),".".concat(t)}var ge=String.fromCharCode;function ye(n,t,r){var e="",o;for(r+=t,o=t;o<r;o+=1)e+=ge(n.getUint8(o));return e}var Oe=j.btoa;function Ce(n,t){for(var r=[],e=8192,o=new Uint8Array(n);o.length>0;)r.push(ge.apply(null,fe(o.subarray(0,e)))),o=o.subarray(e);return"data:".concat(t,";base64,").concat(Oe(r.join("")))}function Ae(n){var t=new DataView(n),r;try{var e,o,i;if(t.getUint8(0)===255&&t.getUint8(1)===216)for(var f=t.byteLength,d=2;d+1<f;){if(t.getUint8(d)===255&&t.getUint8(d+1)===225){o=d;break}d+=1}if(o){var u=o+4,c=o+10;if(ye(t,u,4)==="Exif"){var h=t.getUint16(c);if(e=h===18761,(e||h===19789)&&t.getUint16(c+2,e)===42){var v=t.getUint32(c+4,e);v>=8&&(i=c+v)}}}if(i){var x=t.getUint16(i,e),b,l;for(l=0;l<x;l+=1)if(b=i+l*12+2,t.getUint16(b,e)===274){b+=8,r=t.getUint16(b,e),t.setUint16(b,1,e);break}}}catch(p){r=1}return r}function pe(n){var t=0,r=1,e=1;switch(n){case 2:r=-1;break;case 3:t=-180;break;case 4:e=-1;break;case 5:t=90,e=-1;break;case 6:t=90;break;case 7:t=90,r=-1;break;case 8:t=-90;break}return{rotate:t,scaleX:r,scaleY:e}}var Se=/\.\d*(?:0|9){12}\d*$/;function X(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e11;return Se.test(n)?Math.round(n*t)/t:n}var De=j.ArrayBuffer,le=j.FileReader,E=j.URL||j.webkitURL,xe=/\.\w+$/,be=j.Compressor,W=function(){function n(t,r){te(this,n),this.file=t,this.image=new Image,this.options=ne(ne({},w),r),this.aborted=!1,this.result=null,this.init()}return Le(n,[{key:"init",value:function(){var r=this,e=this.file,o=this.options;if(!Ue(e)){this.fail(new Error("The first argument must be a File or Blob object."));return}var i=e.type;if(!ie(i)){this.fail(new Error("The first argument must be an image File or Blob object."));return}if(!E||!le){this.fail(new Error("The current browser does not support image compression."));return}if(De||(o.checkOrientation=!1),E&&!o.checkOrientation)this.load({url:E.createObjectURL(e)});else{var f=new le,d=o.checkOrientation&&i==="image/jpeg";this.reader=f,f.onload=function(u){var c=u.target,h=c.result,v={};if(d){var x=Ae(h);x>1||!E?(v.url=Ce(h,i),x>1&&re(v,pe(x))):v.url=E.createObjectURL(e)}else v.url=h;r.load(v)},f.onabort=function(){r.fail(new Error("Aborted to read the image with FileReader."))},f.onerror=function(){r.fail(new Error("Failed to read the image with FileReader."))},f.onloadend=function(){r.reader=null},d?f.readAsArrayBuffer(e):f.readAsDataURL(e)}}},{key:"load",value:function(r){var e=this,o=this.file,i=this.image;i.onload=function(){e.draw(ne(ne({},r),{},{naturalWidth:i.naturalWidth,naturalHeight:i.naturalHeight}))},i.onabort=function(){e.fail(new Error("Aborted to load the image."))},i.onerror=function(){e.fail(new Error("Failed to load the image."))},j.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(j.navigator.userAgent)&&(i.crossOrigin="anonymous"),i.alt=o.name,i.src=r.url}},{key:"draw",value:function(r){var e=this,o=r.naturalWidth,i=r.naturalHeight,f=r.rotate,d=f===void 0?0:f,u=r.scaleX,c=u===void 0?1:u,h=r.scaleY,v=h===void 0?1:h,x=this.file,b=this.image,l=this.options,p=document.createElement("canvas"),g=p.getContext("2d"),y=o/i,ue=Math.abs(d)%180==90,B=Math.max(l.maxWidth,0)||Infinity,U=Math.max(l.maxHeight,0)||Infinity,I=Math.max(l.minWidth,0)||0,O=Math.max(l.minHeight,0)||0,m=Math.max(l.width,0)||o,s=Math.max(l.height,0)||i;if(ue){var C=[U,B];B=C[0],U=C[1];var M=[O,I];I=M[0],O=M[1];var T=[s,m];m=T[0],s=T[1]}B<Infinity&&U<Infinity?U*y>B?U=B/y:B=U*y:B<Infinity?U=B/y:U<Infinity&&(B=U*y),I>0&&O>0?O*y>I?O=I/y:I=O*y:I>0?O=I/y:O>0&&(I=O*y),s*y>m?s=m/y:m=s*y,m=Math.floor(X(Math.min(Math.max(m,I),B))),s=Math.floor(X(Math.min(Math.max(s,O),U)));var A=-m/2,P=-s/2,S=m,H=s;if(ue){var G=[s,m];m=G[0],s=G[1]}p.width=m,p.height=s,ie(l.mimeType)||(l.mimeType=x.type);var $="transparent";if(x.size>l.convertSize&&l.mimeType==="image/png"&&($="#fff",l.mimeType="image/jpeg"),g.fillStyle=$,g.fillRect(0,0,m,s),l.beforeDraw&&l.beforeDraw.call(this,g,p),!this.aborted&&(g.save(),g.translate(m/2,s/2),g.rotate(d*Math.PI/180),g.scale(c,v),g.drawImage(b,A,P,S,H),g.restore(),l.drew&&l.drew.call(this,g,p),!this.aborted)){var V=function(K){e.aborted||e.done({naturalWidth:o,naturalHeight:i,result:K})};p.toBlob?p.toBlob(V,l.mimeType,l.quality):V(se(p.toDataURL(l.mimeType,l.quality)))}}},{key:"done",value:function(r){var e=r.naturalWidth,o=r.naturalHeight,i=r.result,f=this.file,d=this.image,u=this.options;if(E&&!u.checkOrientation&&E.revokeObjectURL(d.src),i)if(u.strict&&i.size>f.size&&u.mimeType===f.type&&!(u.width>e||u.height>o||u.minWidth>e||u.minHeight>o))i=f;else{var c=new Date;i.lastModified=c.getTime(),i.lastModifiedDate=c,i.name=f.name,i.name&&i.type!==f.type&&(i.name=i.name.replace(xe,ve(i.type)))}else i=f;this.result=i,u.success&&u.success.call(this,i)}},{key:"fail",value:function(r){var e=this.options;if(e.error)e.error.call(this,r);else throw r}},{key:"abort",value:function(){this.aborted||(this.aborted=!0,this.reader?this.reader.abort():this.image.complete?this.fail(new Error("The compression process has been aborted.")):(this.image.onload=null,this.image.onabort()))}}],[{key:"noConflict",value:function(){return window.Compressor=be,n}},{key:"setDefaults",value:function(r){re(w,r)}}]),n}();return W})}}]);
