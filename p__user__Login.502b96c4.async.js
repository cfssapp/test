(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[531],{49101:function(b,y,r){"use strict";r.d(y,{Z:function(){return I}});var j=r(67294),v={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8z"}},{tag:"path",attrs:{d:"M176 474h672q8 0 8 8v60q0 8-8 8H176q-8 0-8-8v-60q0-8 8-8z"}}]},name:"plus",theme:"outlined"},f=v,g=r(27029),d=function(p,O){return j.createElement(g.Z,Object.assign({},p,{ref:O,icon:f}))};d.displayName="PlusOutlined";var I=j.forwardRef(d)},5966:function(b,y,r){"use strict";var j=r(67294),v=r(59009),f=r(64893),g=["fieldProps","proFieldProps"];function d(){return d=Object.assign||function(t){for(var a=1;a<arguments.length;a++){var n=arguments[a];for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e])}return t},d.apply(this,arguments)}function I(t,a){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(t);a&&(e=e.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,e)}return n}function T(t){for(var a=1;a<arguments.length;a++){var n=arguments[a]!=null?arguments[a]:{};a%2?I(Object(n),!0).forEach(function(e){p(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function p(t,a,n){return a in t?Object.defineProperty(t,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[a]=n,t}function O(t,a){if(t==null)return{};var n=U(t,a),e,o;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(t);for(o=0;o<u.length;o++)e=u[o],!(a.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(t,e)||(n[e]=t[e]))}return n}function U(t,a){if(t==null)return{};var n={},e=Object.keys(t),o,u;for(u=0;u<e.length;u++)o=e[u],!(a.indexOf(o)>=0)&&(n[o]=t[o]);return n}var F="text",z=(0,f.Z)(function(t){var a=t.fieldProps,n=t.proFieldProps,e=O(t,g);return j.createElement(v.ZP,d({mode:"edit",valueType:F,fieldProps:T(T({},a),{},{onChange:function(){for(var u,M,c=arguments.length,s=new Array(c),w=0;w<c;w++)s[w]=arguments[w];a==null||(u=a.onChange)===null||u===void 0||u.call.apply(u,[a].concat(s)),e==null||(M=e.onChange)===null||M===void 0||M.call.apply(M,[e].concat(s))}})},n))},{valueType:F}),C=(0,f.Z)(function(t){var a=t.fieldProps,n=t.proFieldProps;return j.createElement(v.ZP,d({mode:"edit",valueType:"password",fieldProps:a},n))},{valueType:F}),D=z;D.Password=C,y.Z=D},68408:function(b){b.exports={container:"container___1sYa-",lang:"lang___l6cji",content:"content___2zk1-",top:"top___1C1Zi",header:"header___5xZ3f",logo:"logo___2hXsy",title:"title___1-xuF",desc:"desc___-njyT",main:"main___x4OjT",icon:"icon___rzGKO",other:"other___lLyaU",register:"register___11Twg",prefixIcon:"prefixIcon___23Xrx"}},11816:function(b,y,r){"use strict";r.r(y),r.d(y,{default:function(){return Y}});var j=r(34792),v=r(48086),f=r(8870),g=r(3182),d=r(2824),I=r(17462),T=r(94043),p=r.n(T),O=r(67294),U={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 464h-68V240c0-70.7-57.3-128-128-128H388c-70.7 0-128 57.3-128 128v224h-68c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V496c0-17.7-14.3-32-32-32zM332 240c0-30.9 25.1-56 56-56h248c30.9 0 56 25.1 56 56v224H332V240zm460 600H232V536h560v304zM484 701v53c0 4.4 3.6 8 8 8h40c4.4 0 8-3.6 8-8v-53a48.01 48.01 0 10-56 0z"}}]},name:"lock",theme:"outlined"},F=U,z=r(27029),C=function(E,S){return O.createElement(z.Z,Object.assign({},E,{ref:S,icon:F}))};C.displayName="LockOutlined";var D=O.forwardRef(C),t=r(89366),a=r(15196),n=r(5966),e=r(97363),o=r(73727),u=r(36571),M=r(68408),c=r.n(M),s=r(85893),w=function(E){var S=E.content;return _jsx(_Alert,{style:{marginBottom:24},message:S,type:"error",showIcon:!0})},X=function(){var E=(0,O.useState)(!1),S=(0,d.Z)(E,2),J=S[0],H=S[1],Q=(0,O.useState)({}),R=(0,d.Z)(Q,2),V=R[0],k=R[1],q=(0,O.useState)("account"),W=(0,d.Z)(q,2),_=W[0],ae=W[1],$=(0,e.tT)("@@initialState"),N=$.initialState,ee=$.setInitialState,L=(0,e.YB)(),te=function(){var Z=(0,g.Z)(p().mark(function P(){var m,i;return p().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.next=2,N==null||(m=N.fetchUserInfo)===null||m===void 0?void 0:m.call(N);case 2:if(i=h.sent,!i){h.next=6;break}return h.next=6,ee(function(B){return(0,f.Z)((0,f.Z)({},B),{},{currentUser:i})});case 6:case"end":return h.stop()}},P)}));return function(){return Z.apply(this,arguments)}}(),re=function(){var Z=(0,g.Z)(p().mark(function P(m){var i,x,h,B,K,G;return p().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return H(!0),l.prev=1,l.next=4,(0,u.x4)((0,f.Z)((0,f.Z)({},m),{},{type:_}));case 4:if(i=l.sent,console.log(i),console.log(i.access),console.log(i.refresh),console.log(i.id),localStorage.setItem("access_token",i.access),localStorage.setItem("refresh_token",i.refresh),localStorage.setItem("user_id",i.id),i.status!=="ok"){l.next=23;break}return x=L.formatMessage({id:"pages.login.success",defaultMessage:"\u767B\u5F55\u6210\u529F\uFF01"}),v.default.success(x),l.next=17,te();case 17:if(e.m8){l.next=19;break}return l.abrupt("return");case 19:return h=e.m8.location.query,B=h,K=B.redirect,e.m8.push(K||"/"),l.abrupt("return");case 23:k(i),l.next=30;break;case 26:l.prev=26,l.t0=l.catch(1),G=L.formatMessage({id:"pages.login.failure",defaultMessage:"\u767B\u5F55\u5931\u8D25\uFF0C\u8BF7\u91CD\u8BD5\uFF01"}),v.default.error(G);case 30:H(!1);case 31:case"end":return l.stop()}},P,null,[[1,26]])}));return function(m){return Z.apply(this,arguments)}}(),ne=V.status,se=V.type;return(0,s.jsxs)("div",{className:c().container,children:[(0,s.jsx)("div",{className:c().lang,"data-lang":!0,children:e.pD&&(0,s.jsx)(e.pD,{})}),(0,s.jsxs)("div",{className:c().content,children:[(0,s.jsxs)("div",{className:c().top,children:[(0,s.jsx)("div",{className:c().header,children:(0,s.jsxs)(o.rU,{to:"/",children:[(0,s.jsx)("img",{alt:"logo",className:c().logo,src:"/logo.svg"}),(0,s.jsx)("span",{className:c().title,children:"React"})]})}),(0,s.jsx)("div",{className:c().desc,children:L.formatMessage({id:"pages.layouts.userLayout.title"})})]}),(0,s.jsx)("div",{className:c().main,children:(0,s.jsx)(a.ZP,{initialValues:{autoLogin:!0},submitter:{searchConfig:{submitText:L.formatMessage({id:"pages.login.submit",defaultMessage:"\u767B\u5F55"})},render:function(P,m){return m.pop()},submitButtonProps:{loading:J,size:"large",style:{width:"100%"}}},onFinish:function(){var Z=(0,g.Z)(p().mark(function P(m){return p().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:re(m);case 1:case"end":return x.stop()}},P)}));return function(P){return Z.apply(this,arguments)}}(),children:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.Z,{name:"user_name",fieldProps:{size:"large",prefix:(0,s.jsx)(t.Z,{className:c().prefixIcon})},placeholder:L.formatMessage({id:"pages.login.username.placeholder",defaultMessage:"\u7528\u6237\u540D: guest"}),rules:[{required:!0,message:(0,s.jsx)(e._H,{id:"pages.login.username.required",defaultMessage:"\u8BF7\u8F93\u5165\u7528\u6237\u540D!"})}]}),(0,s.jsx)(n.Z.Password,{name:"password",fieldProps:{size:"large",prefix:(0,s.jsx)(D,{className:c().prefixIcon})},placeholder:L.formatMessage({id:"pages.login.password.placeholder",defaultMessage:"\u5BC6\u7801: guest"}),rules:[{required:!0,message:(0,s.jsx)(e._H,{id:"pages.login.password.required",defaultMessage:"\u8BF7\u8F93\u5165\u5BC6\u7801\uFF01"})}]})]})})})]})]})},Y=X},97435:function(b,y){"use strict";function r(j,v){for(var f=Object.assign({},j),g=0;g<v.length;g+=1){var d=v[g];delete f[d]}return f}y.Z=r}}]);
