(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[531],{99165:function(j,d,e){"use strict";e.d(d,{Z:function(){return M}});var u=e(67294),c={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2L263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z"}}]},name:"copy",theme:"outlined"},i=c,o=e(27029),l=function(g,O){return u.createElement(o.Z,Object.assign({},g,{ref:O,icon:i}))};l.displayName="CopyOutlined";var M=u.forwardRef(l)},57254:function(j,d,e){"use strict";e.d(d,{Z:function(){return M}});var u=e(67294),c={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z"}}]},name:"down",theme:"outlined"},i=c,o=e(27029),l=function(g,O){return u.createElement(o.Z,Object.assign({},g,{ref:O,icon:i}))};l.displayName="DownOutlined";var M=u.forwardRef(l)},49101:function(j,d,e){"use strict";e.d(d,{Z:function(){return M}});var u=e(67294),c={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8z"}},{tag:"path",attrs:{d:"M176 474h672q8 0 8 8v60q0 8-8 8H176q-8 0-8-8v-60q0-8 8-8z"}}]},name:"plus",theme:"outlined"},i=c,o=e(27029),l=function(g,O){return u.createElement(o.Z,Object.assign({},g,{ref:O,icon:i}))};l.displayName="PlusOutlined";var M=u.forwardRef(l)},5966:function(j,d,e){"use strict";var u=e(67294),c=e(88757),i=e(64893),o=["fieldProps","proFieldProps"];function l(){return l=Object.assign||function(n){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var t in a)Object.prototype.hasOwnProperty.call(a,t)&&(n[t]=a[t])}return n},l.apply(this,arguments)}function M(n,r){var a=Object.keys(n);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(n);r&&(t=t.filter(function(p){return Object.getOwnPropertyDescriptor(n,p).enumerable})),a.push.apply(a,t)}return a}function E(n){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?M(Object(a),!0).forEach(function(t){g(n,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(a)):M(Object(a)).forEach(function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(a,t))})}return n}function g(n,r,a){return r in n?Object.defineProperty(n,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[r]=a,n}function O(n,r){if(n==null)return{};var a=z(n,r),t,p;if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(n);for(p=0;p<m.length;p++)t=m[p],!(r.indexOf(t)>=0)&&(!Object.prototype.propertyIsEnumerable.call(n,t)||(a[t]=n[t]))}return a}function z(n,r){if(n==null)return{};var a={},t=Object.keys(n),p,m;for(m=0;m<t.length;m++)p=t[m],!(r.indexOf(p)>=0)&&(a[p]=n[p]);return a}var w="text",U=(0,i.Z)(function(n){var r=n.fieldProps,a=n.proFieldProps,t=O(n,o);return u.createElement(c.ZP,l({mode:"edit",valueType:w,fieldProps:E(E({},r),{},{onChange:function(){for(var m,b,h=arguments.length,s=new Array(h),C=0;C<h;C++)s[C]=arguments[C];r==null||(m=r.onChange)===null||m===void 0||m.call.apply(m,[r].concat(s)),t==null||(b=t.onChange)===null||b===void 0||b.call.apply(b,[t].concat(s))}})},a))},{valueType:w}),T=(0,i.Z)(function(n){var r=n.fieldProps,a=n.proFieldProps;return u.createElement(c.ZP,l({mode:"edit",valueType:"password",fieldProps:r},a))},{valueType:w}),_=U;_.Password=T,d.Z=_},68408:function(j){j.exports={container:"container___1sYa-",lang:"lang___l6cji",content:"content___2zk1-",top:"top___1C1Zi",header:"header___5xZ3f",logo:"logo___2hXsy",title:"title___1-xuF",desc:"desc___-njyT",main:"main___x4OjT",icon:"icon___rzGKO",other:"other___lLyaU",register:"register___11Twg",prefixIcon:"prefixIcon___23Xrx"}},7330:function(){},11816:function(j,d,e){"use strict";e.r(d),e.d(d,{default:function(){return X}});var u=e(34792),c=e(48086),i=e(8870),o=e(3182),l=e(2824),M=e(17462),E=e(94043),g=e.n(E),O=e(67294),z={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 464h-68V240c0-70.7-57.3-128-128-128H388c-70.7 0-128 57.3-128 128v224h-68c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V496c0-17.7-14.3-32-32-32zM332 240c0-30.9 25.1-56 56-56h248c30.9 0 56 25.1 56 56v224H332V240zm460 600H232V536h560v304zM484 701v53c0 4.4 3.6 8 8 8h40c4.4 0 8-3.6 8-8v-53a48.01 48.01 0 10-56 0z"}}]},name:"lock",theme:"outlined"},w=z,U=e(27029),T=function(I,Z){return O.createElement(U.Z,Object.assign({},I,{ref:Z,icon:w}))};T.displayName="LockOutlined";var _=O.forwardRef(T),n=e(89366),r=e(15196),a=e(5966),t=e(97363),p=e(73727),m=e(36571),b=e(68408),h=e.n(b),s=e(85893),C=function(I){var Z=I.content;return _jsx(_Alert,{style:{marginBottom:24},message:Z,type:"error",showIcon:!0})},G=function(){var I=(0,O.useState)(!1),Z=(0,l.Z)(I,2),Y=Z[0],N=Z[1],J=(0,O.useState)({}),H=(0,l.Z)(J,2),R=H[0],Q=H[1],k=(0,O.useState)("account"),V=(0,l.Z)(k,2),q=V[0],re=V[1],W=(0,t.tT)("@@initialState"),F=W.initialState,ee=W.setInitialState,D=(0,t.YB)(),te=function(){var S=(0,o.Z)(g().mark(function x(){var P,f;return g().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return y.next=2,F==null||(P=F.fetchUserInfo)===null||P===void 0?void 0:P.call(F);case 2:if(f=y.sent,!f){y.next=6;break}return y.next=6,ee(function(B){return(0,i.Z)((0,i.Z)({},B),{},{currentUser:f})});case 6:case"end":return y.stop()}},x)}));return function(){return S.apply(this,arguments)}}(),ne=function(){var S=(0,o.Z)(g().mark(function x(P){var f,L,y,B,K,$;return g().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return N(!0),v.prev=1,v.next=4,(0,m.x4)((0,i.Z)((0,i.Z)({},P),{},{type:q}));case 4:if(f=v.sent,console.log(f),console.log(f.access),console.log(f.refresh),console.log(f.id),localStorage.setItem("access_token",f.access),localStorage.setItem("refresh_token",f.refresh),localStorage.setItem("user_id",f.id),f.status!=="ok"){v.next=23;break}return L=D.formatMessage({id:"pages.login.success",defaultMessage:"\u767B\u5F55\u6210\u529F\uFF01"}),c.default.success(L),v.next=17,te();case 17:if(t.m8){v.next=19;break}return v.abrupt("return");case 19:return y=t.m8.location.query,B=y,K=B.redirect,t.m8.push(K||"/"),v.abrupt("return");case 23:Q(f),v.next=30;break;case 26:v.prev=26,v.t0=v.catch(1),$=D.formatMessage({id:"pages.login.failure",defaultMessage:"\u767B\u5F55\u5931\u8D25\uFF0C\u8BF7\u91CD\u8BD5\uFF01"}),c.default.error($);case 30:N(!1);case 31:case"end":return v.stop()}},x,null,[[1,26]])}));return function(P){return S.apply(this,arguments)}}(),ae=R.status,se=R.type;return(0,s.jsxs)("div",{className:h().container,children:[(0,s.jsx)("div",{className:h().lang,"data-lang":!0,children:t.pD&&(0,s.jsx)(t.pD,{})}),(0,s.jsxs)("div",{className:h().content,children:[(0,s.jsxs)("div",{className:h().top,children:[(0,s.jsx)("div",{className:h().header,children:(0,s.jsxs)(p.rU,{to:"/",children:[(0,s.jsx)("img",{alt:"logo",className:h().logo,src:"/logo.svg"}),(0,s.jsx)("span",{className:h().title,children:"React"})]})}),(0,s.jsx)("div",{className:h().desc,children:D.formatMessage({id:"pages.layouts.userLayout.title"})})]}),(0,s.jsx)("div",{className:h().main,children:(0,s.jsx)(r.ZP,{initialValues:{autoLogin:!0},submitter:{searchConfig:{submitText:D.formatMessage({id:"pages.login.submit",defaultMessage:"\u767B\u5F55"})},render:function(x,P){return P.pop()},submitButtonProps:{loading:Y,size:"large",style:{width:"100%"}}},onFinish:function(){var S=(0,o.Z)(g().mark(function x(P){return g().wrap(function(L){for(;;)switch(L.prev=L.next){case 0:ne(P);case 1:case"end":return L.stop()}},x)}));return function(x){return S.apply(this,arguments)}}(),children:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(a.Z,{name:"user_name",fieldProps:{size:"large",prefix:(0,s.jsx)(n.Z,{className:h().prefixIcon})},placeholder:D.formatMessage({id:"pages.login.username.placeholder",defaultMessage:"\u7528\u6237\u540D: guest"}),rules:[{required:!0,message:(0,s.jsx)(t._H,{id:"pages.login.username.required",defaultMessage:"\u8BF7\u8F93\u5165\u7528\u6237\u540D!"})}]}),(0,s.jsx)(a.Z.Password,{name:"password",fieldProps:{size:"large",prefix:(0,s.jsx)(_,{className:h().prefixIcon})},placeholder:D.formatMessage({id:"pages.login.password.placeholder",defaultMessage:"\u5BC6\u7801: guest"}),rules:[{required:!0,message:(0,s.jsx)(t._H,{id:"pages.login.password.required",defaultMessage:"\u8BF7\u8F93\u5165\u5BC6\u7801\uFF01"})}]})]})})})]})]})},X=G},5467:function(j,d,e){"use strict";e.d(d,{Z:function(){return u}});function u(c){return Object.keys(c).reduce(function(i,o){return(o.substr(0,5)==="data-"||o.substr(0,5)==="aria-"||o==="role")&&o.substr(0,7)!=="data-__"&&(i[o]=c[o]),i},{})}},17462:function(j,d,e){"use strict";var u=e(43673),c=e.n(u),i=e(7330),o=e.n(i)},97435:function(j,d){"use strict";function e(u,c){for(var i=Object.assign({},u),o=0;o<c.length;o+=1){var l=c[o];delete i[l]}return i}d.Z=e}}]);
