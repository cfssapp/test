(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[124],{47210:function(V){V.exports={standardList:"standardList___1iux5",headerInfo:"headerInfo___2D2K3",listContent:"listContent___3Ol41",listContentItem:"listContentItem___3n_EC",extraContentSearch:"extraContentSearch___2Bxtz",listCard:"listCard___2wF5R",standardListForm:"standardListForm___16Lo4",formResult:"formResult___aU39R"}},56992:function(V,Q,e){"use strict";e.r(Q),e.d(Q,{default:function(){return we}});var Me=e(84305),ee=e(69224),Oe=e(48736),te=e(27049),We=e(57663),B=e(71577),Le=e(34792),H=e(48086),h=e(8870),y=e(3182),X=e(19273),Ee=e(49111),A=e(19650),R=e(2824),re=e(94043),m=e.n(re),Z=e(67294),ae=e(73935),ne=e(18253),se=e(1058),oe=e(67265),ie=e(98309),q=e(96459),le=e(30202),Je=e(71194),ue=e(57016),ke=e(47673),D=e(4107),Ke=e(57106),de=e(99683),Ye=e(9715),T=e(82482),ce=e(30381),me=e.n(ce),pe=e(47210),_=e.n(pe),t=e(85893),he={labelCol:{span:7},wrapperCol:{span:13}},fe=function(o){var l=T.Z.useForm(),n=(0,R.Z)(l,1),a=n[0],v=o.done,P=o.visible,g=o.current,w=o.onDone,Y=o.onCancel,x=o.onSubmit;(0,Z.useEffect)(function(){a&&!P&&a.resetFields()},[o.visible]),(0,Z.useEffect)(function(){g&&a.setFieldsValue((0,h.Z)((0,h.Z)({},g),{},{createdAt:g.createdAt?me()(g.createdAt):null}))},[o.current]);var U=function(){!a||a.submit()},b=function(j){x&&x(j)},G=v?{footer:null,onCancel:w}:{okText:"Save",onOk:U,onCancel:Y},$=function(){return v?(0,t.jsx)(de.ZP,{status:"success",title:"Success",subTitle:"",extra:(0,t.jsx)(B.Z,{type:"primary",onClick:w,children:"OK"}),className:_().formResult}):(0,t.jsxs)(T.Z,(0,h.Z)((0,h.Z)({},he),{},{form:a,onFinish:b,children:[(0,t.jsx)(T.Z.Item,{name:"street_name",label:"Address",rules:[{message:"Please input"}],children:(0,t.jsx)(D.Z,{placeholder:"Please input"})}),(0,t.jsx)(T.Z.Item,{name:"state",label:"City",rules:[{message:"Please input"}],children:(0,t.jsx)(D.Z,{placeholder:"Please input"})}),(0,t.jsx)(T.Z.Item,{name:"postal_code",label:"ZIP Code",rules:[{message:"Please input"}],children:(0,t.jsx)(D.Z,{placeholder:"Please input"})})]}))};return(0,t.jsx)(ue.Z,(0,h.Z)((0,h.Z)({title:v?null:"".concat(g?"Edit":"Add"," Address"),className:_().standardListForm,width:640,destroyOnClose:!0,visible:P},G),{},{children:$()}))},ve=fe,I=e(91896),S=e(97363),ye="https://antapi.pythonanywhere.com/food_delivery/cart/";function ge(i){return F.apply(this,arguments)}function F(){return F=(0,y.Z)(m().mark(function i(o){return m().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,S.WY)(ye,{headers:{"Content-Type":"application/json",Authorization:"JWT "+localStorage.getItem("access_token")},params:{search:o.category}}));case 1:case"end":return n.stop()}},i)})),F.apply(this,arguments)}function Ue(i){return M.apply(this,arguments)}function M(){return M=_asyncToGenerator(_regeneratorRuntime.mark(function i(o){var l;return _regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return l=_extends({},o),a.abrupt("return",request("https://antapi.pythonanywhere.com/food_delivery/item/create/",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"JWT "+localStorage.getItem("access_token")},params:{},data:_objectSpread(_objectSpread({},l),{},{method:"post"})}));case 2:case"end":return a.stop()}},i)})),M.apply(this,arguments)}function Ge(i){return O.apply(this,arguments)}function O(){return O=_asyncToGenerator(_regeneratorRuntime.mark(function i(o){var l,n;return _regeneratorRuntime.wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return l=_extends({},o),n=o.id,v.abrupt("return",request("https://antapi.pythonanywhere.com/food_delivery/item/edit/"+n+"/",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"JWT "+localStorage.getItem("access_token")},params:{},data:_objectSpread(_objectSpread({},l),{},{method:"update"})}));case 3:case"end":return v.stop()}},i)})),O.apply(this,arguments)}function Ne(i){return W.apply(this,arguments)}function W(){return W=_asyncToGenerator(_regeneratorRuntime.mark(function i(o){return _regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",request("https://antapi.pythonanywhere.com/food_delivery/item/delete/"+o+"/",{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:"JWT "+localStorage.getItem("access_token")},params:{},data:{method:"delete"}}));case 1:case"end":return n.stop()}},i)})),W.apply(this,arguments)}function Ze(i){return L.apply(this,arguments)}function L(){return L=(0,y.Z)(m().mark(function i(o){var l;return m().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return l=(0,I.Z)({},o),a.abrupt("return",(0,S.WY)("https://antapi.pythonanywhere.com/food_delivery/remove-from-cart/",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"JWT "+localStorage.getItem("access_token")},params:{},data:(0,h.Z)((0,h.Z)({},l),{},{method:"post"})}));case 2:case"end":return a.stop()}},i)})),L.apply(this,arguments)}function Ce(i){return E.apply(this,arguments)}function E(){return E=(0,y.Z)(m().mark(function i(o){return m().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,S.WY)("https://antapi.pythonanywhere.com/food_delivery/address/",{headers:{"Content-Type":"application/json",Authorization:"JWT "+localStorage.getItem("access_token")},params:{}}));case 1:case"end":return n.stop()}},i)})),E.apply(this,arguments)}function Se(i){return J.apply(this,arguments)}function J(){return J=(0,y.Z)(m().mark(function i(o){var l,n;return m().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return l=(0,I.Z)({},o),n=o.id,v.abrupt("return",(0,S.WY)("https://antapi.pythonanywhere.com/food_delivery/address/edit/"+n+"/",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"JWT "+localStorage.getItem("access_token")},params:{},data:(0,h.Z)((0,h.Z)({},l),{},{method:"update"})}));case 3:case"end":return v.stop()}},i)})),J.apply(this,arguments)}function je(i){return k.apply(this,arguments)}function k(){return k=(0,y.Z)(m().mark(function i(o){var l;return m().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return l=(0,I.Z)({},o),a.abrupt("return",(0,S.WY)("https://antapi.pythonanywhere.com/food_delivery/address/create/",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"JWT "+localStorage.getItem("access_token")},params:{},data:(0,h.Z)((0,h.Z)({},l),{},{method:"post"})}));case 2:case"end":return a.stop()}},i)})),k.apply(this,arguments)}function Te(i){return K.apply(this,arguments)}function K(){return K=(0,y.Z)(m().mark(function i(o){var l;return m().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return l=(0,I.Z)({},o),a.abrupt("return",(0,S.WY)("https://antapi.pythonanywhere.com/food_delivery/add-to-order/",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"JWT "+localStorage.getItem("access_token")},params:{},data:(0,h.Z)((0,h.Z)({},l),{},{method:"post"})}));case 2:case"end":return a.stop()}},i)})),K.apply(this,arguments)}var Pe=function(o){var l=(0,Z.useRef)(null),n=(0,Z.useRef)(),a=(0,Z.useRef)(),v=(0,Z.useState)(void 0),P=(0,R.Z)(v,2),g=P[0],w=P[1],Y=(0,Z.useState)(!1),x=(0,R.Z)(Y,2),U=x[0],b=x[1],G=(0,Z.useState)(!1),$=(0,R.Z)(G,2),z=$[0],j=$[1],xe=[{title:"#",dataIndex:"index",valueType:"indexBorder",width:48},{dataIndex:["avatar","imagefile"],title:"Name",valueType:"avatar",render:function(r,s){return(0,t.jsxs)(A.Z,{children:[(0,t.jsx)("span",{children:r}),s.name]})},hideInSearch:!0},{title:"Price",dataIndex:"price",hideInSearch:!0},{title:"Category",dataIndex:"category",valueEnum:{Burgers:{text:"Burgers"},Beverages:{text:"Beverages"}},hideInTable:!0},{title:"Action",dataIndex:"option",valueType:"option",render:function(r,s){return(0,t.jsx)(A.Z,{size:"middle",children:(0,t.jsx)(De,{item:s},"more")})}}];(0,X.Z)(o);var Ae={showSizeChanger:!1,showQuickJumper:!1,showTotal:!1,pageSize:10},Ve=function(){j(!0),w(void 0)},N=function(){if(l.current){var r=(0,ae.findDOMNode)(l.current);setTimeout(function(){return r.blur()},0)}},Re=function(){N(),b(!1),j(!1)},Ie=function(){N(),j(!1)},be=function(){var u=(0,y.Z)(m().mark(function r(s){var d,p,c;return m().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:if(p=g?g.id:"",console.log(p),N(),!p){f.next=9;break}return f.next=6,Se((0,h.Z)({id:p},s));case 6:c=f.sent,f.next=12;break;case 9:return f.next=11,je((0,h.Z)({},s));case 11:c=f.sent;case 12:return b(!0),(d=a.current)===null||d===void 0||d.reload(),f.abrupt("return",Promise.resolve({data:c,success:!0}));case 15:case"end":return f.stop()}},r)}));return function(s){return u.apply(this,arguments)}}(),$e=function(r){j(!0),w(r)},ze=function(r,s){$e(s)},Be=function(){var u=(0,y.Z)(m().mark(function r(s){var d,p,c;return m().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return p=g?g.id:s.id,f.next=3,Ze((0,h.Z)({id:p},s));case 3:return c=f.sent,(d=n.current)===null||d===void 0||d.reload(),H.default.success("Success!"),f.abrupt("return",Promise.resolve({data:c,success:!0}));case 7:case"end":return f.stop()}},r)}));return function(s){return u.apply(this,arguments)}}(),De=function(r){var s=r.item;return(0,t.jsx)(B.Z,{onClick:function(p){return(0,X.Z)(p),Be(s)},children:(0,t.jsx)(se.Z,{})})},Fe=function(r){var s=r.itemtwo;return(0,t.jsx)("a",{onClick:function(p){var c=p.key;return ze(c,s)},children:"edit"})};return(0,t.jsxs)("div",{children:[(0,t.jsx)(oe.ZP,{children:(0,t.jsx)(ee.ZP,{locale:ne.Z,children:(0,t.jsxs)(le.ZP,{style:{marginBottom:16},children:[(0,t.jsx)(q.Z,{title:"Delivery Details",actionRef:a,request:function(){var u=(0,y.Z)(m().mark(function r(s){var d;return m().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,Ce(s);case 2:return d=c.sent,console.log(d),console.log(d[0]),c.abrupt("return",Promise.resolve({success:!0,data:d[0]}));case 6:case"end":return c.stop()}},r)}));return function(r){return u.apply(this,arguments)}}(),columns:[{title:"Address",key:"street_name",dataIndex:"street_name"},{title:"City",key:"state",dataIndex:"state"},{title:"ZIP Code",key:"postal_code",dataIndex:"postal_code"},{title:"Action",valueType:"option",render:function(r,s,d){return[(0,t.jsx)(Fe,{itemtwo:s},"moretwo")]}}]}),(0,t.jsx)(te.Z,{style:{marginBottom:32}}),(0,t.jsx)(q.Z,{title:"Food Details"}),(0,t.jsx)(ie.ZP,{actionRef:n,rowKey:function(r,s){return"complete".concat(r.id).concat(s)},request:function(){var u=(0,y.Z)(m().mark(function r(s){var d;return m().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return console.log(s.category),c.next=3,ge(s);case 3:return d=c.sent,c.abrupt("return",Promise.resolve({data:d,success:!0}));case 5:case"end":return c.stop()}},r)}));return function(r){return u.apply(this,arguments)}}(),search:!1,options:!1,tableAlertRender:function(r){var s=r.selectedRowKeys,d=r.selectedRows,p=r.onCleanSelected;return(0,t.jsx)(A.Z,{size:24,children:(0,t.jsxs)("span",{children:["Selected ",s.length," item/s",(0,t.jsx)("a",{style:{marginLeft:0},onClick:p,children:"Cancel"})]})})},tableAlertOptionRender:function(){return(0,t.jsxs)(A.Z,{size:16,children:[(0,t.jsx)("a",{children:"Delete"}),(0,t.jsx)("a",{children:"Submit Shipment"})]})},onLoadingChange:!0,pagination:Ae,size:"middle",columns:xe,style:{marginBottom:20}}),(0,t.jsx)(B.Z,{type:"primary",onClick:function(){var u=(0,y.Z)(m().mark(function r(s){var d,p;return m().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return C.next=2,Te((0,h.Z)({},s));case 2:return p=C.sent,console.log(p),(d=n.current)===null||d===void 0||d.reload(),H.default.success("Success!"),C.abrupt("return",Promise.resolve({data:p,success:!0}));case 7:case"end":return C.stop()}},r)}));return function(r){return u.apply(this,arguments)}}(),block:!0,children:"Submit"})]})})}),(0,t.jsx)(ve,{done:U,current:g,visible:z,onDone:Re,onCancel:Ie,onSubmit:be})]})},we=Pe}}]);
