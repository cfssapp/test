(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[129],{92811:function(U){U.exports={standardList:"standardList___eAEVV",headerInfo:"headerInfo___2Xjfd",listContent:"listContent___wlhaW",listContentItem:"listContentItem___Y1Ad3",extraContentSearch:"extraContentSearch___3H3UI",listCard:"listCard___eyRj6",standardListForm:"standardListForm___ekYz3",formResult:"formResult___1XeXF"}},27650:function(U,V,e){"use strict";e.r(V),e.d(V,{default:function(){return ge}});var we=e(84305),k=e(69224),Oe=e(57663),b=e(71577),Fe=e(59250),q=e(13013),be=e(30887),E=e(99210),Ee=e(71194),G=e(57016),f=e(8870),x=e(3182),_=e(19273),ze=e(49111),P=e(19650),A=e(2824),ee=e(94043),h=e.n(ee),Z=e(67294),te=e(73935),ne=e(18253),re=e(76570),ae=e(67265),X=e(98309),De=e(47673),z=e(4107),Le=e(57106),se=e(99683),$e=e(9715),S=e(82482),oe=e(30381),le=e.n(oe),ie=e(92811),H=e.n(ie),t=e(85893),de={labelCol:{span:7},wrapperCol:{span:13}},ue=function(s){var u=S.Z.useForm(),r=(0,A.Z)(u,1),i=r[0],p=s.done,C=s.visible,y=s.current,T=s.onDone,J=s.onCancel,R=s.onSubmit;(0,Z.useEffect)(function(){i&&!C&&i.resetFields()},[s.visible]),(0,Z.useEffect)(function(){y&&i.setFieldsValue((0,f.Z)((0,f.Z)({},y),{},{createdAt:y.createdAt?le()(y.createdAt):null}))},[s.current]);var N=function(){!i||i.submit()},w=function(j){R&&R(j)},Y=p?{footer:null,onCancel:T}:{okText:"Save",onOk:N,onCancel:J},O=function(){return p?(0,t.jsx)(se.ZP,{status:"success",title:"Success",subTitle:"",extra:(0,t.jsx)(b.Z,{type:"primary",onClick:T,children:"OK"}),className:H().formResult}):(0,t.jsxs)(S.Z,(0,f.Z)((0,f.Z)({},de),{},{form:i,onFinish:w,children:[(0,t.jsx)(S.Z.Item,{name:"street_name",label:"Street Name",rules:[{message:"Please input"}],children:(0,t.jsx)(z.Z,{placeholder:"Please input"})}),(0,t.jsx)(S.Z.Item,{name:"state",label:"State",rules:[{message:"Please input"}],children:(0,t.jsx)(z.Z,{placeholder:"Please input"})}),(0,t.jsx)(S.Z.Item,{name:"postal_code",label:"Postal Code",rules:[{message:"Please input"}],children:(0,t.jsx)(z.Z,{placeholder:"Please input"})})]}))};return(0,t.jsx)(G.Z,(0,f.Z)((0,f.Z)({title:p?null:"".concat(y?"Edit":"Add"," Address"),className:H().standardListForm,width:640,bodyStyle:p?{padding:"72px 0"}:{padding:"28px 0 0"},destroyOnClose:!0,visible:C},Y),{},{children:O()}))},ce=ue,Q=e(91896),I=e(97363),me="https://antapi.pythonanywhere.com/food_delivery/order/";function he(l){return D.apply(this,arguments)}function D(){return D=(0,x.Z)(h().mark(function l(s){return h().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,I.WY)(me,{headers:{"Content-Type":"application/json",Authorization:"JWT "+localStorage.getItem("access_token")},params:{search:s.order_id}}));case 1:case"end":return r.stop()}},l)})),D.apply(this,arguments)}function fe(l){return L.apply(this,arguments)}function L(){return L=(0,x.Z)(h().mark(function l(s){var u;return h().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return u=(0,Q.Z)({},s),i.abrupt("return",(0,I.WY)("https://antapi.pythonanywhere.com/food_delivery/item/create/",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"JWT "+localStorage.getItem("access_token")},params:{},data:(0,f.Z)((0,f.Z)({},u),{},{method:"post"})}));case 2:case"end":return i.stop()}},l)})),L.apply(this,arguments)}function pe(l){return $.apply(this,arguments)}function $(){return $=(0,x.Z)(h().mark(function l(s){var u,r;return h().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return u=(0,Q.Z)({},s),r=s.id,p.abrupt("return",(0,I.WY)("https://antapi.pythonanywhere.com/food_delivery/item/edit/"+r+"/",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"JWT "+localStorage.getItem("access_token")},params:{},data:(0,f.Z)((0,f.Z)({},u),{},{method:"update"})}));case 3:case"end":return p.stop()}},l)})),$.apply(this,arguments)}function Me(l){return M.apply(this,arguments)}function M(){return M=_asyncToGenerator(_regeneratorRuntime.mark(function l(s){return _regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",request("https://antapi.pythonanywhere.com/food_delivery/item/delete/"+s+"/",{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:"JWT "+localStorage.getItem("access_token")},params:{},data:{method:"delete"}}));case 1:case"end":return r.stop()}},l)})),M.apply(this,arguments)}function We(l){return W.apply(this,arguments)}function W(){return W=_asyncToGenerator(_regeneratorRuntime.mark(function l(s){var u;return _regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return u=_extends({},s),i.abrupt("return",request("https://antapi.pythonanywhere.com/food_delivery/add-to-cart/",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"JWT "+localStorage.getItem("access_token")},params:{},data:_objectSpread(_objectSpread({},u),{},{method:"post"})}));case 2:case"end":return i.stop()}},l)})),W.apply(this,arguments)}function ve(l){return B.apply(this,arguments)}function B(){return B=(0,x.Z)(h().mark(function l(s){return h().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,I.WY)("https://antapi.pythonanywhere.com/food_delivery/order/delete/"+s+"/",{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:"JWT "+localStorage.getItem("access_token")},params:{},data:{method:"delete"}}));case 1:case"end":return r.stop()}},l)})),B.apply(this,arguments)}var ye=function(s){var u=(0,Z.useRef)(null),r=(0,Z.useRef)(),i=(0,Z.useRef)(),p=(0,Z.useState)(void 0),C=(0,A.Z)(p,2),y=C[0],T=C[1],J=(0,Z.useState)(!1),R=(0,A.Z)(J,2),N=R[0],w=R[1],Y=(0,Z.useState)(!1),O=(0,A.Z)(Y,2),F=O[0],j=O[1],Ze=[{title:"Order No.",dataIndex:"order_id"},{title:"Address",dataIndex:"shipping_address",hideInSearch:!0},{title:"Action",dataIndex:"option",valueType:"option",render:function(n,a){return(0,t.jsx)(P.Z,{size:"middle",children:(0,t.jsx)(Ae,{item:a},"more")})}}];(0,_.Z)(s);var xe={showSizeChanger:!1,showQuickJumper:!1,showTotal:!1,pageSize:10},Be=function(){j(!0),T(void 0)},K=function(){if(u.current){var n=(0,te.findDOMNode)(u.current);setTimeout(function(){return n.blur()},0)}},je=function(){K(),w(!1),j(!1)},Se=function(){K(),j(!1)},Ce=function(){var d=(0,x.Z)(h().mark(function n(a){var c,m,o;return h().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:if(m=y?y.id:"",console.log(m),K(),!m){v.next=9;break}return v.next=6,pe((0,f.Z)({id:m},a));case 6:o=v.sent,v.next=12;break;case 9:return v.next=11,fe((0,f.Z)({},a));case 11:o=v.sent;case 12:return w(!0),(c=i.current)===null||c===void 0||c.reload(),v.abrupt("return",Promise.resolve({data:o,success:!0}));case 15:case"end":return v.stop()}},n)}));return function(a){return d.apply(this,arguments)}}(),Te=function(n){j(!0),T(n)},Re=function(){var d=(0,x.Z)(h().mark(function n(a){var c,m;return h().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.next=2,ve(a);case 2:return m=g.sent,(c=r.current)===null||c===void 0||c.reload(),g.abrupt("return",Promise.resolve({data:m,success:!0}));case 5:case"end":return g.stop()}},n)}));return function(a){return d.apply(this,arguments)}}(),Pe=function(n,a){n==="edit"?Te(a):n==="delete"&&G.Z.confirm({title:"\u5220\u9664\u4EFB\u52A1",content:"\u786E\u5B9A\u5220\u9664\u8BE5\u4EFB\u52A1\u5417\uFF1F",okText:"\u786E\u8BA4",cancelText:"\u53D6\u6D88",onOk:function(){return Re(a.id)}})},Ae=function(n){var a=n.item;return(0,t.jsx)(q.Z.Button,{overlay:(0,t.jsxs)(E.Z,{onClick:function(m){var o=m.key;return Pe(o,a)},children:[(0,t.jsx)(E.Z.Item,{children:"edit"},"edit"),(0,t.jsx)(E.Z.Item,{children:"delete"},"delete")]}),children:(0,t.jsx)(re.Z,{})})},Ie=function(n){var a=n.items;return(0,t.jsx)(X.ZP,{columns:[{dataIndex:["avatar","imagefile"],title:"Name",valueType:"avatar",render:function(m,o){return(0,t.jsxs)(P.Z,{children:[(0,t.jsx)("span",{children:m}),o.name]})},hideInSearch:!0},{title:"Price",dataIndex:"price"}],headerTitle:!1,search:!1,options:!1,dataSource:a,pagination:!1})};return(0,t.jsxs)("div",{children:[(0,t.jsx)(ae.ZP,{children:(0,t.jsx)(k.ZP,{locale:ne.Z,children:(0,t.jsx)(X.ZP,{headerTitle:"Order",actionRef:r,rowKey:function(n,a){return"complete".concat(n.id).concat(a)},request:function(){var d=(0,x.Z)(h().mark(function n(a){var c;return h().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return console.log(a.order_id),o.next=3,he(a);case 3:return c=o.sent,o.abrupt("return",Promise.resolve({data:c,success:!0}));case 5:case"end":return o.stop()}},n)}));return function(n){return d.apply(this,arguments)}}(),search:{defaultCollapsed:!1,labelWidth:"auto",optionRender:function(n,a){var c=n.searchText,m=n.resetText,o=a.form;return[(0,t.jsx)(b.Z,{type:"primary",onClick:function(){o==null||o.submit()},children:c},"searchText"),(0,t.jsx)(b.Z,{onClick:function(){o==null||o.resetFields()},children:m},"resetText")]}},options:!1,tableAlertRender:function(n){var a=n.selectedRowKeys,c=n.selectedRows,m=n.onCleanSelected;return(0,t.jsx)(P.Z,{size:24,children:(0,t.jsxs)("span",{children:["Selected ",a.length," item/s",(0,t.jsx)("a",{style:{marginLeft:8},onClick:m,children:"Cancel"})]})})},tableAlertOptionRender:function(){return(0,t.jsxs)(P.Z,{size:16,children:[(0,t.jsx)("a",{children:"Delete"}),(0,t.jsx)("a",{children:"Submit Shipment"})]})},onLoadingChange:!0,pagination:xe,expandable:{expandedRowRender:Ie},size:"middle",columns:Ze,style:{marginBottom:10}})})}),(0,t.jsx)(ce,{done:N,current:y,visible:F,onDone:je,onCancel:Se,onSubmit:Ce})]})},ge=ye}}]);
